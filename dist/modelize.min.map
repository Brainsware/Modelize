{"version":3,"file":"modelize.min.js","sources":["modelize\\api.js","modelize\\lib\\bindings.js","modelize\\lib\\editable.js","modelize\\lib\\json.js","modelize\\lib\\observable.js","modelize\\lib\\paginated.js","modelize\\lib\\selectable.js","modelize\\lib\\sortable.js","modelize\\lib\\utils.js","modelize\\model.js"],"names":["add_apis_to","api","api_key","api_user","$","RestClient","stripTrailingSlash","methodOverride","username","password","sub_apis","main_api","data","name","_results","push","add","ko","observableArray","fn","pushAll","items","itsems","Array","this","valueWillMutate","utils","arrayPushAll","peek","valueHasMutated","length","bindingHandlers","currency","symbol","observable","update","element","valueAccessor","allBindingsAccessor","text","value","unwrapObservable","toFixed","replace","date","format","moment","href","attr","src","hidden","visible","allowEdit","disabled","readOnly","DelayedSave","Editable","self","property","change","editing_property","Observable","subscribe","new_value","r","prop","delay","clearTimeout","window","timeoutEditor","setTimeout","_this","type","article","content","editor","serialize","post_content","title","title_editor","post_title","pretext","pretext_editor","post_pretext","__slice","slice","post_json","args","url","arguments","call","post","console","log","get_json","get","Computed","ComputedArray","LazyObservable","LazyObservableArray","ObservableArray","PureComputed","require","initial_value","select","arrayFilter","map","arrayMap","computed","pureComputed","actual_property","property_fn","callback","params","init_value","make_array","_value","read","loaded","apply","write","newValue","deferEvaluation","remove","e","refresh","result","module","exports","Ham","Observables","Paginated","options","Error","method","merge","per_page","page","add_paginated_methods","collection","__page","__collection","count","parseInt","parseFloat","first_page","__reload","last_page","previous_page","next_page","pages","Selectable","selected","Sortable","move","to","sort","Sorted","array","a","b","a_name","b_name","toLowerCase","String","prototype","capitalize","charAt","toUpperCase","Modelize","mapi","model","has_one","has_many","callback_fn","index","_ref","_ref1","_ref2","_ref3","_ref4","_ref5","relationship_fields","sortable","id_param","api_name","done","m","res","_i","_len","id","belongs_to","create","destroy","editable","edit_value","functions","callbackOrObservable","getOne"],"mappings":"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","sourcesContent":["var add_apis_to, api, api_key, api_user;\n\nif (typeof api_user === \"undefined\" || api_user === null) {\n  api_user = '';\n}\n\nif (typeof api_key === \"undefined\" || api_key === null) {\n  api_key = '';\n}\n\napi = new $.RestClient('/api/', {\n  stripTrailingSlash: true,\n  methodOverride: true,\n  username: api_user,\n  password: api_key\n});\n\nadd_apis_to = function(sub_apis, main_api) {\n  var data, name, _results;\n  _results = [];\n  for (name in sub_apis) {\n    data = sub_apis[name];\n    if (!api[main_api][name + 's']) {\n      _results.push(api[main_api].add(name + 's'));\n    } else {\n      _results.push(void 0);\n    }\n  }\n  return _results;\n};\n\n//# sourceMappingURL=api.js.map\n","ko.observableArray.fn.pushAll = function(items) {\n  if (!(itsems instanceof Array)) {\n    return this.peek().length;\n  }\n  this.valueWillMutate();\n  ko.utils.arrayPushAll(this.peek(), items);\n  this.valueHasMutated();\n  return this.peek().length;\n};\n\nko.bindingHandlers.currency = {\n  symbol: ko.observable('€'),\n  update: function(element, valueAccessor, allBindingsAccessor) {\n    return ko.bindingHandlers.text.update(element, function() {\n      var symbol, value;\n      value = +(ko.utils.unwrapObservable(valueAccessor()) || 0);\n      symbol = ko.utils.unwrapObservable(allBindingsAccessor().symbol !== void 0 ? allBindingsAccessor().symbol : ko.bindingHandlers.currency.symbol);\n      return symbol + \" \" + value.toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, \"$1,\");\n    });\n  }\n};\n\nko.bindingHandlers.date = {\n  format: ko.observable('DD.MM.YYYY'),\n  update: function(element, valueAccessor, allBindingsAccessor) {\n    return ko.bindingHandlers.text.update(element, function() {\n      var format, value;\n      value = ko.utils.unwrapObservable(valueAccessor()) || '0000-00-00';\n      format = ko.utils.unwrapObservable(allBindingsAccessor().format !== void 0 ? allBindingsAccessor().format : ko.bindingHandlers.date.format);\n      return moment(value, 'YYYY-M-D').format(format);\n    });\n  }\n};\n\nko.bindingHandlers.href = {\n  update: function(element, valueAccessor) {\n    return ko.bindingHandlers.attr.update(element, function() {\n      return {\n        href: valueAccessor()\n      };\n    });\n  }\n};\n\nko.bindingHandlers.src = {\n  update: function(element, valueAccessor) {\n    return ko.bindingHandlers.attr.update(element, function() {\n      return {\n        src: valueAccessor()\n      };\n    });\n  }\n};\n\nko.bindingHandlers.hidden = {\n  update: function(element, valueAccessor) {\n    var value;\n    value = ko.utils.unwrapObservable(valueAccessor());\n    return ko.bindingHandlers.visible.update(element, function() {\n      return !value;\n    });\n  }\n};\n\nko.bindingHandlers.allowEdit = {\n  update: function(element, valueAccessor) {\n    if (!valueAccessor()) {\n      element.disabled = true;\n      element.readOnly = true;\n      return $(':input', element).attr('readOnly', 'readOnly');\n    }\n  }\n};\n\n//# sourceMappingURL=bindings.js.map\n","var DelayedSave, Editable;\n\nEditable = function(self, property, change) {\n  var editing_property;\n  editing_property = 'editing_' + property;\n  Observable(self, property);\n  Observable(self, editing_property, self[property]() === '' || (self[property]() == null));\n  self[property].subscribe((function(_this) {\n    return function(new_value) {\n      var r;\n      r = change(new_value, property);\n      if (r !== true) {\n        return self[editing_property](false);\n      }\n    };\n  })(this));\n  self['edit_' + property] = (function(_this) {\n    return function() {\n      return self[editing_property](true);\n    };\n  })(this);\n  return self;\n};\n\nDelayedSave = function(value, prop, delay) {\n  if (delay == null) {\n    delay = 250;\n  }\n  clearTimeout(window.timeoutEditor);\n  return window.timeoutEditor = setTimeout((function(_this) {\n    return function() {\n      if (type === 'content') {\n        return _this.article().content(window.editor.serialize().post_content.value);\n      } else if (type === 'title') {\n        return _this.article().title(window.title_editor.serialize().post_title.value);\n      } else if (type === 'pretext') {\n        return _this.article().pretext(window.pretext_editor.serialize().post_pretext.value);\n      }\n    };\n  })(this), delay);\n};\n\n//# sourceMappingURL=editable.js.map\n","var __slice = [].slice;\n\n$.post_json = function() {\n  var args, url;\n  url = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (args.length === 0) {\n    $.post(url, 'json');\n  }\n  if (args.length === 1) {\n    $.post(url, args[0], 'json');\n  }\n  if (args.length === 2) {\n    $.post(url, args[0], args[1], 'json');\n  }\n  if (args.length === 4) {\n    return console.log(args);\n  }\n};\n\n$.get_json = function() {\n  var args, url;\n  url = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (args.length === 0) {\n    $.get(url, 'json');\n  }\n  if (args.length === 1) {\n    $.get(url, args[0], 'json');\n  }\n  if (args.length === 2) {\n    $.get(url, args[0], args[1], 'json');\n  }\n  if (args.length === 4) {\n    return console.log(args);\n  }\n};\n\n//# sourceMappingURL=json.js.map\n","var Computed, ComputedArray, LazyObservable, LazyObservableArray, Observable, ObservableArray, PureComputed, ko;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  ko = require('../../../knockout/build/output/knockout-latest.debug');\n}\n\nObservable = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = self[property];\n  }\n  return self[property] = ko.observable(initial_value);\n};\n\nObservableArray = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = [];\n  }\n  self[property] = ko.observableArray(initial_value);\n  self[property].select = function(fn) {\n    return ko.utils.arrayFilter(self[property].call(), fn);\n  };\n  return self[property].map = function(fn) {\n    return ko.utils.arrayMap(self[property].call(), fn);\n  };\n};\n\nComputed = function(self, property, fn) {\n  return self[property] = ko.computed(fn, self);\n};\n\nPureComputed = function(self, property, fn) {\n  return self[property] = ko.pureComputed(fn, self);\n};\n\nComputedArray = function(self, property, fn) {\n  var actual_property, property_fn;\n  actual_property = '_actual_' + property;\n  property_fn = '_' + property;\n  ObservableArray(self, actual_property);\n  self[property_fn] = (function(_this) {\n    return function() {\n      self[actual_property](fn());\n      return self[actual_property]();\n    };\n  })(this);\n  return self[property] = ko.computed(self[property_fn]);\n};\n\nLazyObservable = function(self, property, callback, params, init_value, make_array) {\n  var _value;\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  if (make_array == null) {\n    make_array = false;\n  }\n  if (!make_array) {\n    _value = ko.observable(init_value);\n  } else {\n    _value = ko.observableArray(init_value);\n  }\n  self[property] = ko.computed({\n    read: function() {\n      if (self[property].loaded() === false) {\n        callback.apply(self, params);\n      }\n      return _value();\n    },\n    write: function(newValue) {\n      self[property].loaded(true);\n      return _value(newValue);\n    },\n    deferEvaluation: true\n  });\n  if (make_array === true) {\n    self[property].remove = function(e) {\n      return _value.remove(e);\n    };\n    self[property].push = function(e) {\n      return _value.push(e);\n    };\n  }\n  self[property].loaded = ko.observable(false);\n  return self[property].refresh = function() {\n    return result.loaded(false);\n  };\n};\n\nLazyObservableArray = function(self, property, callback, params, init_value) {\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  return LazyObservable(self, property, callback, params, init_value, true);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = {\n    Observable: Observable,\n    ObservableArray: ObservableArray,\n    Computed: Computed,\n    ComputedArray: ComputedArray,\n    LazyObservable: LazyObservable\n  };\n}\n\n//# sourceMappingURL=observable.js.map\n","var Computed, Ham, Observable, Observables, Paginated;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  Ham = require('../ham');\n  Observables = require('../lib/observable');\n  Observable = Observables.Observable;\n  Computed = Observables.Computed;\n}\n\nPaginated = function(self, options) {\n  if (!((self != null) && (options != null))) {\n    throw new Error('Error: no object or options given');\n  }\n  if ('object' !== typeof self) {\n    throw new Error('Error: first parameter is not an object');\n  }\n  if ('function' === typeof options) {\n    options = {\n      method: options\n    };\n  }\n  if ('object' !== typeof options) {\n    throw new Error('Invalid type for second parameter (' + typeof options + '), expected function or object');\n  }\n  options = Ham.merge(options, {\n    per_page: 20,\n    page: 0\n  });\n  if (options.page > 0) {\n    options.page--;\n  }\n  if (!(typeof options.per_page === 'number' && options.per_page > 0)) {\n    throw new Error('Invalid per_page value given');\n  }\n  if (options.method == null) {\n    throw new Error('No reload method given');\n  }\n  return Paginated.add_paginated_methods(self, options);\n};\n\nPaginated.add_paginated_methods = function(self, options) {\n  Observable(self, '__collection', options.collection);\n  Observable(self, '__reload', options.method);\n  Observable(self, '__page', options.page);\n  Observable(self, 'per_page', options.per_page);\n  Computed(self, 'page', (function(_this) {\n    return function() {\n      return self.__page() + 1;\n    };\n  })(this));\n  Computed(self, 'count', (function(_this) {\n    return function() {\n      if (self.__collection() != null) {\n        return self.__collection().count;\n      }\n      return 0;\n    };\n  })(this));\n  Computed(self, 'pages', (function(_this) {\n    return function() {\n      var result;\n      result = parseInt(parseFloat(self.count()) / parseFloat(self.__page()));\n      if (parseFloat(self.count()) % self.__page() > 0) {\n        result++;\n      }\n      return result;\n    };\n  })(this));\n  self.first_page = (function(_this) {\n    return function() {\n      self.__page(0);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.last_page = (function(_this) {\n    return function() {\n      self.__page(self.count() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.previous_page = (function(_this) {\n    return function() {\n      if (!(self.page() > 0)) {\n        return;\n      }\n      self.__page(self.page() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  return self.next_page = (function(_this) {\n    return function() {\n      if (!(self.page() + 1 < self.pages())) {\n        return;\n      }\n      self.__page(self.page() + 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Paginated;\n}\n\n//# sourceMappingURL=paginated.js.map\n","var Selectable;\n\nSelectable = function(self) {\n  self.selected = ko.observable(false);\n  self.select = (function(_this) {\n    return function(item, element) {\n      return self.selected(!self.selected());\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=selectable.js.map\n","var Sortable;\n\nSortable = function(self) {\n  self.move = (function(_this) {\n    return function(to, callback) {\n      return self.update({\n        sort: to\n      }, callback);\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=sortable.js.map\n","var Sorted;\n\nSorted = function(array, fn) {\n  if (fn == null) {\n    fn = function(a, b) {\n      var a_name, b_name;\n      a_name = a.name().toLowerCase();\n      b_name = b.name().toLowerCase();\n      if (a_name < b_name) {\n        return -1;\n      }\n      if (a_name > b_name) {\n        return 1;\n      }\n      return 0;\n    };\n  }\n  return array.sort(fn);\n};\n\nString.prototype.capitalize = function() {\n  return this.charAt(0).toUpperCase() + this.slice(1);\n};\n\n//# sourceMappingURL=utils.js.map\n","var Modelize;\n\nModelize = function(options) {\n  var mapi, model;\n  if (api[options.api] == null) {\n    api.add(options.api);\n  }\n  mapi = api[options.api];\n  if (options.has_one != null) {\n    add_apis_to(options.has_one, options.api);\n  }\n  if (options.has_many != null) {\n    add_apis_to(options.has_many, options.api);\n  }\n  model = function(self) {\n    var callback_fn, data, fn, index, name, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n    if (self == null) {\n      self = {};\n    }\n    self.api = function() {\n      return mapi;\n    };\n    self.relationship_fields = function(name, model) {\n      return [name + '_id', name + 's', name, window[model]];\n    };\n    if ((options.sortable != null) && options.sortable === true) {\n      Sortable(self);\n    }\n    if (options.has_one != null) {\n      _ref = options.has_one;\n      for (name in _ref) {\n        data = _ref[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        callback_fn = function(id_param, api_name, name, model) {\n          var callback;\n          if (self[id_param] == null) {\n            console.log('Tried to access empty relation key: ' + id_param);\n            return false;\n          }\n          if (typeof callback === \"undefined\" || callback === null) {\n            callback = (function(_this) {\n              return function(data) {\n                return _this[name](model(data));\n              };\n            })(this);\n          }\n          return api[api_name].read(self[id_param]).done(callback);\n        };\n        fn = window[data.model];\n        if (self[name] != null) {\n          Observable(self, name, new fn(self[name]));\n        } else {\n          LazyObservable(self, name, callback_fn, self.relationship_fields(name, data.model), new fn);\n        }\n      }\n    }\n    if (options.has_many != null) {\n      _ref1 = options.has_many;\n      for (name in _ref1) {\n        data = _ref1[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        callback_fn = function(id_param, api_name, name, model) {\n          var callback;\n          if (typeof callback === \"undefined\" || callback === null) {\n            callback = (function(_this) {\n              return function(data) {\n                var m, res, _i, _len;\n                res = [];\n                for (_i = 0, _len = data.length; _i < _len; _i++) {\n                  m = data[_i];\n                  res.push(model(m));\n                }\n                return _this[api_name](res);\n              };\n            })(this);\n          }\n          return self.api()[api_name].read(self.id).done(callback);\n        };\n        LazyObservableArray(self, name + 's', callback_fn, self.relationship_fields(name, data.model));\n        callback_fn = function(id_param, api_name, name, model) {\n          return (function(_this) {\n            return function(element, params, callback) {\n              if (params == null) {\n                params = {};\n              }\n              if (callback == null) {\n                callback = function(data) {\n                  return _this[api_name].push(model(data));\n                };\n              }\n              if (options.belongs_to != null) {\n                return self.api()[api_name].create(options.belongs_to, self.id, params).done(callback);\n              } else {\n                return self.api()[api_name].create(self.id, params).done(callback);\n              }\n            };\n          })(this);\n        };\n        self[name + '_add'] = callback_fn.apply(self, self.relationship_fields(name, data.model));\n        callback_fn = function(id_param, api_name, name, model) {\n          return (function(_this) {\n            return function(id, params, callback) {\n              if (options.belongs_to != null) {\n                return self.api()[api_name].update(options.belongs_to, self.id, id, params).done(callback);\n              } else {\n                return self.api()[api_name].update(self.id, id, params).done(callback);\n              }\n            };\n          })(this);\n        };\n        self[name + '_update'] = callback_fn.apply(self, self.relationship_fields(name, data.model));\n        callback_fn = function(id_param, api_name, name, model) {\n          return (function(_this) {\n            return function(element) {\n              var callback;\n              if (typeof callback === \"undefined\" || callback === null) {\n                callback = function(data) {\n                  return _this[api_name].remove(element);\n                };\n              }\n              return element.destroy(callback);\n            };\n          })(this);\n        };\n        self[name + '_destroy'] = callback_fn.apply(self, self.relationship_fields(name, data.model));\n      }\n    }\n    if (options.observable != null) {\n      _ref2 = options.observable;\n      for (index in _ref2) {\n        name = _ref2[index];\n        Observable(self, name);\n      }\n    }\n    if (options.editable != null) {\n      _ref3 = options.editable;\n      for (index in _ref3) {\n        name = _ref3[index];\n        Editable(self, name, (function(_this) {\n          return function(value, prop, delay) {\n            if (delay == null) {\n              delay = 250;\n            }\n            if (window.timeoutEditor == null) {\n              window.timeoutEditor = {};\n            }\n            clearTimeout(window.timeoutEditor[prop]);\n            return window.timeoutEditor[prop] = setTimeout(function() {\n              var edit_value;\n              edit_value = {};\n              edit_value[prop] = value;\n              return self.update(edit_value);\n            }, delay);\n          };\n        })(this));\n      }\n    }\n    if (options.computed != null) {\n      _ref4 = options.computed;\n      for (name in _ref4) {\n        fn = _ref4[name];\n        Computed(self, name, fn);\n      }\n    }\n    if (options.functions != null) {\n      _ref5 = options.functions;\n      for (name in _ref5) {\n        fn = _ref5[name];\n        self[name] = fn;\n      }\n    }\n    self.update = (function(_this) {\n      return function(data, callback) {\n        return self.api().update(self.id, data).done(callback);\n      };\n    })(this);\n    self.destroy = (function(_this) {\n      return function(callback) {\n        return self.api().destroy(self.id).done(callback);\n      };\n    })(this);\n    return self;\n  };\n  model.get = function(params, callbackOrObservable) {\n    var callback;\n    callback = function(data) {\n      var m, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = data.length; _i < _len; _i++) {\n        m = data[_i];\n        _results.push(callbackOrObservable.push(model(m)));\n      }\n      return _results;\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        console.log('Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n        console.log(callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    if ((params != null) && (params.id != null)) {\n      return mapi.read(params.id, params).done(callback);\n    } else {\n      return mapi.read(params).done(callback);\n    }\n  };\n  model.getOne = function(observable, id) {\n    return model.get(observable, {\n      id: id\n    });\n  };\n  model.create = function(params, callbackOrObservable) {\n    var callback;\n    if (params == null) {\n      params = {};\n    }\n    callback = function(data) {\n      return callbackOrObservable.push(model(data));\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        console.log('Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n        console.log(callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    if (params.length > 0 || typeof params === 'object') {\n      return mapi.create(params).done(callback);\n    } else {\n      return mapi.create().done(callback);\n    }\n  };\n  return model;\n};\n\n//# sourceMappingURL=model.js.map\n"]}