{"version":3,"file":"modelize.min.js","sources":["modelize\\model.js","modelize\\api.js","modelize\\crypto.js","modelize\\ham.js","modelize\\helpers.js","modelize\\lib\\bindings.js","modelize\\lib\\editable.js","modelize\\lib\\encryptable.js","modelize\\lib\\json.js","modelize\\lib\\observable.js","modelize\\lib\\paginated.js","modelize\\lib\\selectable.js","modelize\\lib\\sortable.js"],"names":["add_apis_to","api","api_key","api_user","$","RestClient","stripTrailingSlash","methodOverride","username","password","sub_apis","main_api","data","name","_results","push","add","decryptData","encryptData","generateKey","generateSalt","salt","decrypting","hex","key","options","console","error","sjcl","codec","fromBits","iter","misc","cachedPbkdf2","length","rand","random","randomWords","adata","encdata","options_ret","mode","ts","ks","encrypt","decrypt","Ham","merge","a","b","result","_i","_j","_len","_len1","_ref","_ref1","Object","keys","module","exports","create_fn","destroy_fn","get_fn","lazy_get_fn","lazy_single_get_fn","single_get_fn","update_fn","id_param","api_name","model","_this","params","callbackOrObservable","callback","m","res","belongs_to","read","id","done","this","get","instant","encrypted_container","encrypt_container","create","update","after_update","remove","element","destroy","ko","observableArray","fn","pushAll","items","itsems","Array","valueWillMutate","utils","arrayPushAll","peek","valueHasMutated","bindingHandlers","currency","symbol","observable","valueAccessor","allBindingsAccessor","text","value","unwrapObservable","toFixed","replace","date","format","moment","href","attr","src","hidden","visible","allowEdit","disabled","readOnly","DelayedSave","Editable","EncryptedDelayedSave","self","property","editing_property","Observable","subscribe","new_value","r","prop","delay","window","timeoutEditor","clearTimeout","setTimeout","edit_value","index","encrypted_editable","save_encrypted_container","Encryptable","__indexOf","indexOf","item","i","l","container","dencdata","sessionStorage","getItem","JSON","parse","enc_update","call","stringify","__slice","slice","post_json","args","url","arguments","post","log","get_json","Computed","ComputedArray","LazyObservable","LazyObservableArray","ObservableArray","PureComputed","require","initial_value","select","arrayFilter","map","arrayMap","computed","pureComputed","actual_property","property_fn","init_value","make_array","_value","loaded","apply","write","newValue","deferEvaluation","e","splice","refresh","Observables","Paginated","Error","method","per_page","page","add_paginated_methods","collection","__page","__collection","count","parseInt","parseFloat","first_page","__reload","last_page","previous_page","next_page","pages","Selectable","selected","Sortable","move","to","sort","move_ui","targetIndex","Modelize","mapi","has_one","has_many","relation_params","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","relationship_fields","sortable","selectable","capitalize","editable","purecomputed","computed_array","functions","has_data","_ref10","_ref11","_ref12","getOne","after_create"],"mappings":"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","sourcesContent":["'use strict';\nvar Modelize,\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nModelize = function(options) {\n  var mapi, model;\n  if (api[options.api] == null) {\n    api.add(options.api);\n  }\n  mapi = api[options.api];\n  if (options.has_one != null) {\n    add_apis_to(options.has_one, options.api);\n  }\n  if (options.has_many != null) {\n    add_apis_to(options.has_many, options.api);\n  }\n  model = function(self) {\n    var data, fn, index, item, items, name, relation_params, _i, _len, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;\n    if (self == null) {\n      self = {};\n    }\n    self.api = function() {\n      return mapi;\n    };\n    self.relationship_fields = function(name, model) {\n      return [name + '_id', name + 's', name, window[model]];\n    };\n    if (options.encrypted_container != null) {\n      Encryptable(self, options.encrypted_container);\n    }\n    if ((options.sortable != null) && options.sortable === true) {\n      Sortable(self);\n    }\n    if ((options.selectable != null) && options.selectable === true) {\n      Selectable(self);\n    }\n    if (options.belongs_to != null) {\n      if (options.has_one == null) {\n        options.has_one = [];\n      }\n      options.has_one = Ham.merge(options.belongs_to, options.has_one);\n    }\n    if (options.has_one != null) {\n      _ref = options.has_one;\n      for (name in _ref) {\n        data = _ref[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        relation_params = self.relationship_fields(name, data.model);\n        relation_params.push(options);\n        fn = window[data.model];\n\n        /*if typeof self[name + '_id'] != 'function'\n          unless options.editable?\n            options.editable = []\n        \n           *options.editable.push name + '_id'\n         */\n        if (self[name] != null) {\n          Observable(self, name, new fn(self[name]));\n        } else {\n          LazyObservable(self, name, lazy_single_get_fn, self.relationship_fields(name, data.model));\n        }\n        self[name + '_get'] = single_get_fn.apply(self, relation_params);\n      }\n    }\n    if (options.has_many != null) {\n      _ref1 = options.has_many;\n      for (name in _ref1) {\n        data = _ref1[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        relation_params = self.relationship_fields(name, data.model);\n        relation_params.push(options);\n        if (self[name + 's'] != null) {\n          fn = window[data.model];\n          items = [];\n          _ref2 = self[name + 's'];\n          for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n            item = _ref2[_i];\n            items.push(new fn(item));\n          }\n          ObservableArray(self, name + 's', items);\n        } else {\n          LazyObservableArray(self, name + 's', lazy_get_fn, relation_params);\n        }\n        self[name + '_get'] = get_fn.apply(self, relation_params);\n        self[name + '_add'] = create_fn.apply(self, relation_params);\n        self[name + '_update'] = update_fn.apply(self, relation_params);\n        self[name + '_destroy'] = destroy_fn.apply(self, relation_params);\n      }\n    }\n    if (options.observable != null) {\n      _ref3 = options.observable;\n      for (index in _ref3) {\n        name = _ref3[index];\n        Observable(self, name);\n      }\n    }\n    if (options.editable != null) {\n      _ref4 = options.editable;\n      for (index in _ref4) {\n        name = _ref4[index];\n        Editable(self, name, DelayedSave.apply(self, [options, self]));\n      }\n    }\n    if (options.encrypted_editable != null) {\n      _ref5 = options.encrypted_editable;\n      for (index in _ref5) {\n        name = _ref5[index];\n        Editable(self, name, EncryptedDelayedSave.apply(self, [options, self]));\n      }\n    }\n    if (options.computed != null) {\n      _ref6 = options.computed;\n      for (name in _ref6) {\n        fn = _ref6[name];\n        Computed(self, name, fn);\n      }\n    }\n    if (options.purecomputed != null) {\n      _ref7 = options.purecomputed;\n      for (name in _ref7) {\n        fn = _ref7[name];\n        PureComputed(self, name, fn);\n      }\n    }\n    if (options.computed_array != null) {\n      _ref8 = options.computed_array;\n      for (name in _ref8) {\n        fn = _ref8[name];\n        ComputedArray(self, name, fn);\n      }\n    }\n    if (options.functions != null) {\n      _ref9 = options.functions;\n      for (name in _ref9) {\n        fn = _ref9[name];\n        self[name] = fn;\n      }\n    }\n    self.update = (function(_this) {\n      return function(params, callback) {\n        if (self.id == null) {\n          console.error('Trying to update nonexisting model object');\n          return false;\n        }\n        return self.api().update(self.id, params).done(callback);\n      };\n    })(this);\n    self.destroy = (function(_this) {\n      return function(callback) {\n        if (self.id == null) {\n          console.error('Trying to delete nonexisting model object');\n          return false;\n        }\n        return self.api().destroy(self.id).done(callback);\n      };\n    })(this);\n    self.create = (function(_this) {\n      return function(callback) {\n        return mapi.create(self[\"export\"]()).done(function(data) {\n          return self.id = data.id;\n        });\n      };\n    })(this);\n    self[\"export\"] = (function(_this) {\n      return function() {\n        var has_data, _ref10, _ref11, _ref12;\n        data = {};\n        if (options.editable != null) {\n          _ref10 = options.editable;\n          for (index in _ref10) {\n            name = _ref10[index];\n            data[name] = self[name]();\n          }\n        }\n        if (options.encrypted_editable != null) {\n          _ref11 = options.encrypted_editable;\n          for (index in _ref11) {\n            name = _ref11[index];\n            data[name] = self[name]();\n          }\n        }\n        if (options.belongs_to != null) {\n          _ref12 = options.belongs_to;\n          for (name in _ref12) {\n            has_data = _ref12[name];\n            data[name + '_id'] = self[name + '_id'];\n          }\n        }\n        return data;\n      };\n    })(this);\n    return self;\n  };\n\n  /*\n   * These are the collector functions and are not bound to a specific object but to the model\n   */\n  model.get = function(params, callbackOrObservable) {\n    var callback;\n    if (params == null) {\n      params = {};\n    }\n    callback = function(data) {\n      var m, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = data.length; _i < _len; _i++) {\n        m = data[_i];\n        _results.push(callbackOrObservable.push(model(m)));\n      }\n      return _results;\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        console.log('model.get 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n        console.log(callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    if ((params != null) && (params.id != null)) {\n      return mapi.read(params.id, params).done(callback);\n    } else {\n      return mapi.read(params).done(callback);\n    }\n  };\n  model.getOne = function(id, observable) {\n    return model.get({\n      id: id\n    }, observable);\n  };\n  model.create = function(params, callbackOrObservable) {\n    var callback;\n    if (params == null) {\n      params = {};\n    }\n    callback = function(data) {\n      return callbackOrObservable.push(model(data));\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        console.log('model.create 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n        console.log(callbackOrObservable);\n      }\n      callback = (function(_this) {\n        return function(data) {\n          var m;\n          m = model(JSON.parse(JSON.stringify(data)));\n          if (m.after_create != null) {\n            m.after_create();\n          }\n          return callbackOrObservable(data);\n        };\n      })(this);\n    }\n    if (params.length > 0 || typeof params === 'object') {\n      if (model.encrypted_container != null) {\n        params = model.encrypt_container(params);\n      }\n      return mapi.create(params).done(callback);\n    } else {\n      return mapi.create().done(callback);\n    }\n  };\n  if (options.encrypted_container != null) {\n    model.encrypted_container = options.encrypted_container;\n  }\n  if (options.encrypted_editable != null) {\n    model.encrypted_editable = options.encrypted_editable;\n  }\n  model.encrypt_container = function(data, container) {\n    var encdata, index, value;\n    data[model.encrypted_container] = {};\n    for (index in data) {\n      value = data[index];\n      if (__indexOf.call(model.encrypted_editable, index) >= 0) {\n        data[model.encrypted_container][index] = value;\n      }\n    }\n    encdata = encryptData(sessionStorage.getItem('appKey'), JSON.stringify(data[model.encrypted_container]));\n    data[model.encrypted_container] = encdata;\n    return data;\n  };\n  return model;\n};\n\n//# sourceMappingURL=model.js.map\n","var add_apis_to, api, api_key, api_user;\n\nif (typeof api_user === \"undefined\" || api_user === null) {\n  api_user = '';\n}\n\nif (typeof api_key === \"undefined\" || api_key === null) {\n  api_key = '';\n}\n\napi = new $.RestClient('/api/', {\n  stripTrailingSlash: true,\n  methodOverride: true,\n  username: api_user,\n  password: api_key\n});\n\nadd_apis_to = function(sub_apis, main_api) {\n  var data, name, _results;\n  _results = [];\n  for (name in sub_apis) {\n    data = sub_apis[name];\n    if (!api[main_api][name + 's']) {\n      _results.push(api[main_api].add(name + 's'));\n    } else {\n      _results.push(void 0);\n    }\n  }\n  return _results;\n};\n\n//# sourceMappingURL=api.js.map\n","var decryptData, encryptData, generateKey, generateSalt;\n\ngenerateKey = function(password, salt, decrypting) {\n  var hex, key, options;\n  if (decrypting == null) {\n    decrypting = false;\n  }\n  if (password === '') {\n    console.error('Password for key generation empty!');\n    return false;\n  }\n  hex = sjcl.codec.hex.fromBits;\n  if (salt == null) {\n    salt = generateSalt();\n  }\n  options = {\n    salt: salt,\n    iter: 5000\n  };\n  options = sjcl.misc.cachedPbkdf2(password, options);\n  key = sjcl.codec.hex.fromBits(options.key);\n  return key;\n};\n\ngenerateSalt = function(length) {\n  var rand;\n  if (length == null) {\n    length = 2;\n  }\n  rand = sjcl.random.randomWords(length);\n  rand = sjcl.codec.hex.fromBits(rand);\n  return rand;\n};\n\nencryptData = function(key, data, adata) {\n  var encdata, options, options_ret;\n  if (adata == null) {\n    adata = '';\n  }\n  if (key === '') {\n    console.error('Encryption key empty!');\n    return false;\n  }\n  options = {\n    mode: 'gcm',\n    iter: 5000,\n    ts: 64,\n    ks: 256,\n    adata: adata\n  };\n  options_ret = {};\n  encdata = sjcl.encrypt(key, data, options, options_ret);\n  return encdata;\n};\n\ndecryptData = function(key, data, adata) {\n  var options_ret;\n  if (key === '') {\n    console.error('Decryption key empty!');\n    return false;\n  }\n  options_ret = {};\n  return sjcl.decrypt(key, data, {}, options_ret);\n};\n\n//# sourceMappingURL=crypto.js.map\n","var Ham;\n\nHam = function() {};\n\nHam.merge = function(a, b) {\n  var key, result, _i, _j, _len, _len1, _ref, _ref1;\n  result = {};\n  _ref = Object.keys(a);\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    key = _ref[_i];\n    result[key] = a[key];\n  }\n  _ref1 = Object.keys(b);\n  for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n    key = _ref1[_j];\n    if (a[key] == null) {\n      result[key] = b[key];\n    }\n  }\n  return result;\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Ham;\n}\n\n//# sourceMappingURL=ham.js.map\n","var create_fn, destroy_fn, get_fn, lazy_get_fn, lazy_single_get_fn, single_get_fn, update_fn;\n\nget_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(params, callbackOrObservable) {\n      var callback;\n      if (params == null) {\n        params = {};\n      }\n      callback = function(data) {\n        var m, res, _i, _len;\n        res = [];\n        for (_i = 0, _len = data.length; _i < _len; _i++) {\n          m = data[_i];\n          res.push(model(m));\n        }\n        return _this[api_name](res);\n      };\n      if (typeof callbackOrObservable['push'] === 'undefined') {\n        if (typeof callbackOrObservable !== 'function') {\n          console.error('Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n          console.error(callbackOrObservable);\n        }\n        callback = callbackOrObservable;\n      }\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].read(options.belongs_to, _this.id, params).done(callback);\n      } else {\n        return _this.api()[api_name].read(_this.id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\nsingle_get_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(params, callbackOrObservable) {\n      var callback;\n      if (params == null) {\n        params = {};\n      }\n      callback = function(data) {\n        return _this[name](model(data));\n      };\n\n      /*if typeof callbackOrObservable == 'undefined' and typeof callbackOrObservable['push'] == 'undefined'\n        if typeof callbackOrObservable != 'function'\n          console.error 'Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:'\n          console.error callbackOrObservable\n      \n        callback = callbackOrObservable\n       */\n      return model.get(_this[id_param], callback);\n    };\n  })(this);\n};\n\nlazy_get_fn = function(id_param, api_name, name, model, options) {\n  var callback;\n  if (typeof callback === \"undefined\" || callback === null) {\n    callback = (function(_this) {\n      return function(data) {\n        var m, res, _i, _len;\n        res = [];\n        for (_i = 0, _len = data.length; _i < _len; _i++) {\n          m = data[_i];\n          res.push(model(m));\n        }\n        return _this[api_name](res);\n      };\n    })(this);\n    return this.api()[api_name].read(this.id).done(callback);\n  }\n};\n\nlazy_single_get_fn = function(id_param, api_name, name, model, options) {\n  var callback;\n  if (typeof this[id_param] !== 'function') {\n    console.error('External key not an observable: ' + id_param);\n    return false;\n  }\n  if (this[id_param]() == null) {\n    console.error('Tried to access empty relation key: ' + id_param);\n    return false;\n  }\n  if (typeof callback === \"undefined\" || callback === null) {\n    callback = (function(_this) {\n      return function(data) {\n        return _this[name](model(data));\n      };\n    })(this);\n  }\n  return model.get(this[id_param](), callback);\n};\n\ncreate_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(params, callback, instant) {\n      if (params == null) {\n        params = {};\n      }\n      if (instant == null) {\n        instant = false;\n      }\n      if (callback == null) {\n        callback = function(data) {\n          return _this[api_name].push(model(data));\n        };\n      }\n      if (_this.id == null) {\n        console.error('Empty ID. Save parent model first!');\n        return;\n      }\n      if (model.encrypted_container != null) {\n        params = model.encrypt_container(params);\n      }\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].create(options.belongs_to, _this.id, params).done(callback);\n      } else {\n        return _this.api()[api_name].create(_this.id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\nupdate_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(id, params, callback) {\n      if (_this.id == null) {\n        console.error('Empty ID. Save parent model first!');\n        return;\n      }\n      if (model.encrypted_container != null) {\n        params = model.encrypt_container(params);\n      }\n      if (options.belongs_to != null) {\n        _this.api()[api_name].update(options.belongs_to, _this.id, id, params).done(callback);\n      } else {\n        _this.api()[api_name].update(_this.id, id, params).done(callback);\n      }\n      if (_this.after_update != null) {\n        return _this.after_update();\n      }\n    };\n  })(this);\n};\n\ndestroy_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(id, callback) {\n      if (callback == null) {\n        callback = function(data) {\n          return _this[api_name].remove(element);\n        };\n      }\n      if (_this.id == null) {\n        console.error('Empty ID. Save parent model first!');\n        return;\n      }\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].destroy(options.belongs_to, _this.id, id).done(callback);\n      } else {\n        return _this.api()[api_name].destroy(_this.id, id).done(callback);\n      }\n    };\n  })(this);\n};\n\n//# sourceMappingURL=helpers.js.map\n","ko.observableArray.fn.pushAll = function(items) {\n  if (!(itsems instanceof Array)) {\n    return this.peek().length;\n  }\n  this.valueWillMutate();\n  ko.utils.arrayPushAll(this.peek(), items);\n  this.valueHasMutated();\n  return this.peek().length;\n};\n\nko.bindingHandlers.currency = {\n  symbol: ko.observable('€'),\n  update: function(element, valueAccessor, allBindingsAccessor) {\n    return ko.bindingHandlers.text.update(element, function() {\n      var symbol, value;\n      value = +(ko.utils.unwrapObservable(valueAccessor()) || 0);\n      symbol = ko.utils.unwrapObservable(allBindingsAccessor().symbol !== void 0 ? allBindingsAccessor().symbol : ko.bindingHandlers.currency.symbol);\n      return symbol + \" \" + value.toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, \"$1,\");\n    });\n  }\n};\n\nko.bindingHandlers.date = {\n  format: ko.observable('DD.MM.YYYY'),\n  update: function(element, valueAccessor, allBindingsAccessor) {\n    return ko.bindingHandlers.text.update(element, function() {\n      var format, value;\n      value = ko.utils.unwrapObservable(valueAccessor()) || '0000-00-00';\n      format = ko.utils.unwrapObservable(allBindingsAccessor().format !== void 0 ? allBindingsAccessor().format : ko.bindingHandlers.date.format);\n      return moment(value, 'YYYY-M-D').format(format);\n    });\n  }\n};\n\nko.bindingHandlers.href = {\n  update: function(element, valueAccessor) {\n    return ko.bindingHandlers.attr.update(element, function() {\n      return {\n        href: valueAccessor()\n      };\n    });\n  }\n};\n\nko.bindingHandlers.src = {\n  update: function(element, valueAccessor) {\n    return ko.bindingHandlers.attr.update(element, function() {\n      return {\n        src: valueAccessor()\n      };\n    });\n  }\n};\n\nko.bindingHandlers.hidden = {\n  update: function(element, valueAccessor) {\n    var value;\n    value = ko.utils.unwrapObservable(valueAccessor());\n    return ko.bindingHandlers.visible.update(element, function() {\n      return !value;\n    });\n  }\n};\n\nko.bindingHandlers.allowEdit = {\n  update: function(element, valueAccessor) {\n    if (!valueAccessor()) {\n      element.disabled = true;\n      element.readOnly = true;\n      return $(':input', element).attr('readOnly', true);\n    } else {\n      element.disabled = false;\n      element.readOnly = false;\n      return $(':input', element).attr('readOnly', false);\n    }\n  }\n};\n\n//# sourceMappingURL=bindings.js.map\n","var DelayedSave, Editable, EncryptedDelayedSave;\n\nEditable = function(self, property, callback) {\n  var editing_property;\n  editing_property = 'editing_' + property;\n  Observable(self, property);\n  if (typeof self[property] !== 'function') {\n    console.error('Editable field \"' + property + '\" is not a valid Observable');\n    return false;\n  }\n  Observable(self, editing_property, self[property]() === '' || (self[property]() == null));\n  self[property].subscribe((function(_this) {\n    return function(new_value) {\n      var r;\n      r = callback(new_value, property);\n      if (r !== true) {\n        return self[editing_property](false);\n      }\n    };\n  })(this));\n  self['edit_' + property] = (function(_this) {\n    return function() {\n      return self[editing_property](true);\n    };\n  })(this);\n  return self;\n};\n\nDelayedSave = function(options, self) {\n  return (function(_this) {\n    return function(value, prop, delay) {\n      if (delay == null) {\n        delay = 250;\n      }\n      if (self.id != null) {\n        if (window.timeoutEditor == null) {\n          window.timeoutEditor = {};\n        }\n        if (window.timeoutEditor[options.api + self.id] == null) {\n          window.timeoutEditor[options.api + self.id] = {};\n        }\n        clearTimeout(window.timeoutEditor[options.api + self.id][prop]);\n        return window.timeoutEditor[options.api + self.id][prop] = setTimeout(function() {\n          var edit_value;\n          edit_value = {};\n          edit_value[prop] = value;\n          return self.update(edit_value);\n        }, delay);\n      }\n    };\n  })(this);\n};\n\nEncryptedDelayedSave = function(options, self) {\n  return (function(_this) {\n    return function(value, prop, delay) {\n      var index, name, _ref;\n      if (delay == null) {\n        delay = 250;\n      }\n      if (typeof self[options.encrypted_container] !== 'object' || self[options.encrypted_container] === null) {\n        self[options.encrypted_container] = {};\n        _ref = options.encrypted_editable;\n        for (index in _ref) {\n          name = _ref[index];\n          self[options.encrypted_container][name] = self[name]();\n        }\n      }\n      self[options.encrypted_container][prop] = value;\n      if (self.id != null) {\n        if (window.timeoutEditor == null) {\n          window.timeoutEditor = {};\n        }\n        clearTimeout(window.timeoutEditor[options.api + self.id]);\n        return window.timeoutEditor[options.api + self.id] = setTimeout(function() {\n          var edit_value;\n          self.save_encrypted_container();\n          edit_value = {};\n          edit_value[prop] = value;\n          return self.update(edit_value);\n        }, delay);\n      }\n    };\n  })(this);\n};\n\n//# sourceMappingURL=editable.js.map\n","var Encryptable,\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nEncryptable = function(self, container) {\n  var _i, _len;\n  self.decrypt = (function(_this) {\n    return function(container) {\n      var dencdata, index, value, _results;\n      if (typeof container === 'string' && container !== null && container !== '') {\n        dencdata = decryptData(sessionStorage.getItem('appKey'), container);\n        container = JSON.parse(dencdata);\n        _results = [];\n        for (index in container) {\n          value = container[index];\n          _results.push(self[index] = value);\n        }\n        return _results;\n      }\n    };\n  })(this);\n  if (typeof container === 'string') {\n    self.decrypt(self[container]);\n  } else if (typeof container === 'object') {\n    for (_i = 0, _len = container.length; _i < _len; _i++) {\n      container = container[_i];\n      self.decrypt(self[container]);\n    }\n  }\n  self.enc_update = (function(_this) {\n    return function(data, callback) {\n      var index, value;\n      for (index in data) {\n        value = data[index];\n        if (__indexOf.call(options.encrypted_editable, index) >= 0) {\n          if (typeof self[options.encrypted_container] !== 'object' || self[options.encrypted_container] === null) {\n            self[options.encrypted_container] = {};\n          }\n          self[options.encrypted_container][index] = value;\n        }\n      }\n      self.save_encrypted_container();\n      if (callback != null) {\n        return callback();\n      }\n    };\n  })(this);\n  self.save_encrypted_container = (function(_this) {\n    return function() {\n      var edit_value, encdata;\n      encdata = encryptData(sessionStorage.getItem('appKey'), JSON.stringify(self[options.encrypted_container]));\n      edit_value = {};\n      edit_value[options.encrypted_container] = encdata;\n      return self.update(edit_value);\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=encryptable.js.map\n","var __slice = [].slice;\n\n$.post_json = function() {\n  var args, url;\n  url = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (args.length === 0) {\n    $.post(url, 'json');\n  }\n  if (args.length === 1) {\n    $.post(url, args[0], 'json');\n  }\n  if (args.length === 2) {\n    $.post(url, args[0], args[1], 'json');\n  }\n  if (args.length === 4) {\n    return console.log(args);\n  }\n};\n\n$.get_json = function() {\n  var args, url;\n  url = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (args.length === 0) {\n    $.get(url, 'json');\n  }\n  if (args.length === 1) {\n    $.get(url, args[0], 'json');\n  }\n  if (args.length === 2) {\n    $.get(url, args[0], args[1], 'json');\n  }\n  if (args.length === 4) {\n    return console.log(args);\n  }\n};\n\n//# sourceMappingURL=json.js.map\n","var Computed, ComputedArray, LazyObservable, LazyObservableArray, Observable, ObservableArray, PureComputed, ko;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  ko = require('../../../knockout/build/output/knockout-latest.debug');\n}\n\nObservable = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = self[property];\n  }\n  return self[property] = ko.observable(initial_value);\n};\n\nObservableArray = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = [];\n  }\n  self[property] = ko.observableArray(initial_value);\n  self[property].select = function(fn) {\n    return ko.utils.arrayFilter(self[property].call(), fn);\n  };\n  return self[property].map = function(fn) {\n    return ko.utils.arrayMap(self[property].call(), fn);\n  };\n};\n\nComputed = function(self, property, fn) {\n  return self[property] = ko.computed(fn, self);\n};\n\nPureComputed = function(self, property, fn) {\n  return self[property] = ko.pureComputed(fn, self);\n};\n\nComputedArray = function(self, property, fn) {\n  var actual_property, property_fn;\n  actual_property = '_actual_' + property;\n  property_fn = '_' + property;\n  ObservableArray(self, actual_property);\n  self[property_fn] = (function(_this) {\n    return function() {\n      self[actual_property](fn());\n      return self[actual_property]();\n    };\n  })(this);\n  return self[property] = ko.computed(self[property_fn]);\n};\n\nLazyObservable = function(self, property, callback, params, init_value, make_array) {\n  var _value;\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  if (make_array == null) {\n    make_array = false;\n  }\n  if (!make_array) {\n    _value = ko.observable(init_value);\n  } else {\n    _value = ko.observableArray(init_value);\n  }\n  self[property] = ko.computed({\n    read: function() {\n      if (self[property].loaded() === false) {\n        callback.apply(self, params);\n      }\n      return _value();\n    },\n    write: function(newValue) {\n      self[property].loaded(true);\n      return _value(newValue);\n    },\n    deferEvaluation: true\n  });\n  if (make_array === true) {\n    self[property].remove = function(e) {\n      return _value.remove(e);\n    };\n    self[property].push = function(e) {\n      return _value.push(e);\n    };\n    self[property].splice = function(e, i, args) {\n      return _value.splice(e, i, args);\n    };\n  }\n  self[property].loaded = ko.observable(false);\n  return self[property].refresh = function() {\n    return result.loaded(false);\n  };\n};\n\nLazyObservableArray = function(self, property, callback, params, init_value) {\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  return LazyObservable(self, property, callback, params, init_value, true);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = {\n    Observable: Observable,\n    ObservableArray: ObservableArray,\n    Computed: Computed,\n    ComputedArray: ComputedArray,\n    LazyObservable: LazyObservable\n  };\n}\n\n//# sourceMappingURL=observable.js.map\n","var Computed, Ham, Observable, Observables, Paginated;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  Ham = require('../ham');\n  Observables = require('../lib/observable');\n  Observable = Observables.Observable;\n  Computed = Observables.Computed;\n}\n\nPaginated = function(self, options) {\n  if (!((self != null) && (options != null))) {\n    throw new Error('Error: no object or options given');\n  }\n  if ('object' !== typeof self) {\n    throw new Error('Error: first parameter is not an object');\n  }\n  if ('function' === typeof options) {\n    options = {\n      method: options\n    };\n  }\n  if ('object' !== typeof options) {\n    throw new Error('Invalid type for second parameter (' + typeof options + '), expected function or object');\n  }\n  options = Ham.merge(options, {\n    per_page: 20,\n    page: 0\n  });\n  if (options.page > 0) {\n    options.page--;\n  }\n  if (!(typeof options.per_page === 'number' && options.per_page > 0)) {\n    throw new Error('Invalid per_page value given');\n  }\n  if (options.method == null) {\n    throw new Error('No reload method given');\n  }\n  return Paginated.add_paginated_methods(self, options);\n};\n\nPaginated.add_paginated_methods = function(self, options) {\n  Observable(self, '__collection', options.collection);\n  Observable(self, '__reload', options.method);\n  Observable(self, '__page', options.page);\n  Observable(self, 'per_page', options.per_page);\n  Computed(self, 'page', (function(_this) {\n    return function() {\n      return self.__page() + 1;\n    };\n  })(this));\n  Computed(self, 'count', (function(_this) {\n    return function() {\n      if (self.__collection() != null) {\n        return self.__collection().count;\n      }\n      return 0;\n    };\n  })(this));\n  Computed(self, 'pages', (function(_this) {\n    return function() {\n      var result;\n      result = parseInt(parseFloat(self.count()) / parseFloat(self.__page()));\n      if (parseFloat(self.count()) % self.__page() > 0) {\n        result++;\n      }\n      return result;\n    };\n  })(this));\n  self.first_page = (function(_this) {\n    return function() {\n      self.__page(0);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.last_page = (function(_this) {\n    return function() {\n      self.__page(self.count() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.previous_page = (function(_this) {\n    return function() {\n      if (!(self.page() > 0)) {\n        return;\n      }\n      self.__page(self.page() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  return self.next_page = (function(_this) {\n    return function() {\n      if (!(self.page() + 1 < self.pages())) {\n        return;\n      }\n      self.__page(self.page() + 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Paginated;\n}\n\n//# sourceMappingURL=paginated.js.map\n","var Selectable;\n\nSelectable = function(self) {\n  self.selected = ko.observable(false);\n  self.select = (function(_this) {\n    return function(item, element) {\n      return self.selected(!self.selected());\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=selectable.js.map\n","var Sortable;\n\nSortable = function(self) {\n  self.move = (function(_this) {\n    return function(to, callback) {\n      return self.update({\n        sort: to\n      }, callback);\n    };\n  })(this);\n  self.move_ui = (function(_this) {\n    return function(element) {\n      var item, to;\n      item = element.item;\n      to = element.targetIndex;\n      return item.update({\n        sort: to\n      });\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=sortable.js.map\n"]}