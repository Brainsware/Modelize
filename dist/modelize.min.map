{"version":3,"file":"modelize.min.js","sources":["modelize\\api.js","modelize\\ham.js","modelize\\helpers.js","modelize\\lib\\bindings.js","modelize\\lib\\editable.js","modelize\\lib\\json.js","modelize\\lib\\observable.js","modelize\\lib\\paginated.js","modelize\\lib\\selectable.js","modelize\\lib\\sortable.js","modelize\\model.js"],"names":["add_apis_to","api","api_key","api_user","$","RestClient","stripTrailingSlash","methodOverride","username","password","sub_apis","main_api","data","name","_results","push","add","Ham","merge","a","b","key","result","_i","_j","_len","_len1","_ref","_ref1","Object","keys","length","module","exports","create_fn","destroy_fn","get_fn","lazy_get_fn","lazy_single_get_fn","update_fn","id_param","api_name","model","options","_this","params","callbackOrObservable","callback","m","res","console","log","belongs_to","read","id","done","this","get","create","update","remove","element","destroy","ko","observableArray","fn","pushAll","items","itsems","Array","valueWillMutate","utils","arrayPushAll","peek","valueHasMutated","bindingHandlers","currency","symbol","observable","valueAccessor","allBindingsAccessor","text","value","unwrapObservable","toFixed","replace","date","format","moment","href","attr","src","hidden","visible","allowEdit","disabled","readOnly","DelayedSave","Editable","self","property","change","editing_property","Observable","subscribe","new_value","r","prop","delay","clearTimeout","window","timeoutEditor","setTimeout","type","article","content","editor","serialize","post_content","title","title_editor","post_title","pretext","pretext_editor","post_pretext","__slice","slice","post_json","args","url","arguments","call","post","get_json","Computed","ComputedArray","LazyObservable","LazyObservableArray","ObservableArray","PureComputed","require","initial_value","select","arrayFilter","map","arrayMap","computed","pureComputed","actual_property","property_fn","init_value","make_array","_value","loaded","apply","write","newValue","deferEvaluation","e","splice","i","refresh","Observables","Paginated","Error","method","per_page","page","add_paginated_methods","collection","__page","__collection","count","parseInt","parseFloat","first_page","__reload","last_page","previous_page","next_page","pages","Selectable","selected","Sortable","move","to","sort","move_ui","item","targetIndex","Modelize","mapi","has_one","has_many","index","relation_params","_ref2","_ref3","_ref4","_ref5","_ref6","relationship_fields","sortable","selectable","capitalize","editable","edit_value","functions","getOne","afterMove"],"mappings":"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","sourcesContent":["var add_apis_to, api, api_key, api_user;\n\nif (typeof api_user === \"undefined\" || api_user === null) {\n  api_user = '';\n}\n\nif (typeof api_key === \"undefined\" || api_key === null) {\n  api_key = '';\n}\n\napi = new $.RestClient('/api/', {\n  stripTrailingSlash: true,\n  methodOverride: true,\n  username: api_user,\n  password: api_key\n});\n\nadd_apis_to = function(sub_apis, main_api) {\n  var data, name, _results;\n  _results = [];\n  for (name in sub_apis) {\n    data = sub_apis[name];\n    if (!api[main_api][name + 's']) {\n      _results.push(api[main_api].add(name + 's'));\n    } else {\n      _results.push(void 0);\n    }\n  }\n  return _results;\n};\n\n//# sourceMappingURL=api.js.map\n","var Ham;\n\nHam = function() {};\n\nHam.merge = function(a, b) {\n  var key, result, _i, _j, _len, _len1, _ref, _ref1;\n  result = {};\n  _ref = Object.keys(a);\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    key = _ref[_i];\n    result[key] = a[key];\n  }\n  _ref1 = Object.keys(b);\n  for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n    key = _ref1[_j];\n    if (a[key] == null) {\n      result[key] = b[key];\n    }\n  }\n  return result;\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Ham;\n}\n\n//# sourceMappingURL=ham.js.map\n","var create_fn, destroy_fn, get_fn, lazy_get_fn, lazy_single_get_fn, update_fn;\n\nget_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(params, callbackOrObservable) {\n      var callback;\n      if (params == null) {\n        params = {};\n      }\n      callback = function(data) {\n        var m, res, _i, _len;\n        res = [];\n        for (_i = 0, _len = data.length; _i < _len; _i++) {\n          m = data[_i];\n          res.push(model(m));\n        }\n        return _this[api_name](res);\n      };\n      if (typeof callbackOrObservable['push'] === 'undefined') {\n        if (typeof callbackOrObservable !== 'function') {\n          console.log('Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n          console.log(callbackOrObservable);\n        }\n        callback = callbackOrObservable;\n      }\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].read(options.belongs_to, _this.id, params).done(callback);\n      } else {\n        return _this.api()[api_name].read(_this.id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\nlazy_get_fn = function(id_param, api_name, name, model, options) {\n  var callback;\n  if (typeof callback === \"undefined\" || callback === null) {\n    callback = (function(_this) {\n      return function(data) {\n        var m, res, _i, _len;\n        res = [];\n        for (_i = 0, _len = data.length; _i < _len; _i++) {\n          m = data[_i];\n          res.push(model(m));\n        }\n        return _this[api_name](res);\n      };\n    })(this);\n    return this.api()[api_name].read(this.id).done(callback);\n  }\n};\n\nlazy_single_get_fn = function(id_param, api_name, name, model, options) {\n  var callback;\n  if (this[id_param]() == null) {\n    console.log('Tried to access empty relation key: ' + id_param);\n    return false;\n  }\n  if (typeof callback === \"undefined\" || callback === null) {\n    callback = (function(_this) {\n      return function(data) {\n        return _this[name](model(data));\n      };\n    })(this);\n  }\n  return model.get(this[id_param](), callback);\n};\n\ncreate_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(params, callback) {\n      if (params == null) {\n        params = {};\n      }\n      if (callback == null) {\n        callback = function(data) {\n          return _this[api_name].push(model(data));\n        };\n      }\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].create(options.belongs_to, _this.id, params).done(callback);\n      } else {\n        return _this.api()[api_name].create(_this.id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\nupdate_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(id, params, callback) {\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].update(options.belongs_to, _this.id, id, params).done(callback);\n      } else {\n        return _this.api()[api_name].update(_this.id, id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\ndestroy_fn = function(id_param, api_name, name, model, options) {\n  return (function(_this) {\n    return function(id, callback) {\n      if (callback == null) {\n        callback = function(data) {\n          return _this[api_name].remove(element);\n        };\n      }\n      if (options.belongs_to != null) {\n        return _this.api()[api_name].destroy(options.belongs_to, _this.id, id).done(callback);\n      } else {\n        return _this.api()[api_name].destroy(_this.id, id).done(callback);\n      }\n    };\n  })(this);\n};\n\n//# sourceMappingURL=helpers.js.map\n","ko.observableArray.fn.pushAll = function(items) {\n  if (!(itsems instanceof Array)) {\n    return this.peek().length;\n  }\n  this.valueWillMutate();\n  ko.utils.arrayPushAll(this.peek(), items);\n  this.valueHasMutated();\n  return this.peek().length;\n};\n\nko.bindingHandlers.currency = {\n  symbol: ko.observable('€'),\n  update: function(element, valueAccessor, allBindingsAccessor) {\n    return ko.bindingHandlers.text.update(element, function() {\n      var symbol, value;\n      value = +(ko.utils.unwrapObservable(valueAccessor()) || 0);\n      symbol = ko.utils.unwrapObservable(allBindingsAccessor().symbol !== void 0 ? allBindingsAccessor().symbol : ko.bindingHandlers.currency.symbol);\n      return symbol + \" \" + value.toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, \"$1,\");\n    });\n  }\n};\n\nko.bindingHandlers.date = {\n  format: ko.observable('DD.MM.YYYY'),\n  update: function(element, valueAccessor, allBindingsAccessor) {\n    return ko.bindingHandlers.text.update(element, function() {\n      var format, value;\n      value = ko.utils.unwrapObservable(valueAccessor()) || '0000-00-00';\n      format = ko.utils.unwrapObservable(allBindingsAccessor().format !== void 0 ? allBindingsAccessor().format : ko.bindingHandlers.date.format);\n      return moment(value, 'YYYY-M-D').format(format);\n    });\n  }\n};\n\nko.bindingHandlers.href = {\n  update: function(element, valueAccessor) {\n    return ko.bindingHandlers.attr.update(element, function() {\n      return {\n        href: valueAccessor()\n      };\n    });\n  }\n};\n\nko.bindingHandlers.src = {\n  update: function(element, valueAccessor) {\n    return ko.bindingHandlers.attr.update(element, function() {\n      return {\n        src: valueAccessor()\n      };\n    });\n  }\n};\n\nko.bindingHandlers.hidden = {\n  update: function(element, valueAccessor) {\n    var value;\n    value = ko.utils.unwrapObservable(valueAccessor());\n    return ko.bindingHandlers.visible.update(element, function() {\n      return !value;\n    });\n  }\n};\n\nko.bindingHandlers.allowEdit = {\n  update: function(element, valueAccessor) {\n    if (!valueAccessor()) {\n      element.disabled = true;\n      element.readOnly = true;\n      return $(':input', element).attr('readOnly', true);\n    } else {\n      element.disabled = false;\n      element.readOnly = false;\n      return $(':input', element).attr('readOnly', false);\n    }\n  }\n};\n\n//# sourceMappingURL=bindings.js.map\n","var DelayedSave, Editable;\n\nEditable = function(self, property, change) {\n  var editing_property;\n  editing_property = 'editing_' + property;\n  Observable(self, property);\n  Observable(self, editing_property, self[property]() === '' || (self[property]() == null));\n  self[property].subscribe((function(_this) {\n    return function(new_value) {\n      var r;\n      r = change(new_value, property);\n      if (r !== true) {\n        return self[editing_property](false);\n      }\n    };\n  })(this));\n  self['edit_' + property] = (function(_this) {\n    return function() {\n      return self[editing_property](true);\n    };\n  })(this);\n  return self;\n};\n\nDelayedSave = function(value, prop, delay) {\n  if (delay == null) {\n    delay = 250;\n  }\n  clearTimeout(window.timeoutEditor);\n  return window.timeoutEditor = setTimeout((function(_this) {\n    return function() {\n      if (type === 'content') {\n        return _this.article().content(window.editor.serialize().post_content.value);\n      } else if (type === 'title') {\n        return _this.article().title(window.title_editor.serialize().post_title.value);\n      } else if (type === 'pretext') {\n        return _this.article().pretext(window.pretext_editor.serialize().post_pretext.value);\n      }\n    };\n  })(this), delay);\n};\n\n//# sourceMappingURL=editable.js.map\n","var __slice = [].slice;\n\n$.post_json = function() {\n  var args, url;\n  url = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (args.length === 0) {\n    $.post(url, 'json');\n  }\n  if (args.length === 1) {\n    $.post(url, args[0], 'json');\n  }\n  if (args.length === 2) {\n    $.post(url, args[0], args[1], 'json');\n  }\n  if (args.length === 4) {\n    return console.log(args);\n  }\n};\n\n$.get_json = function() {\n  var args, url;\n  url = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (args.length === 0) {\n    $.get(url, 'json');\n  }\n  if (args.length === 1) {\n    $.get(url, args[0], 'json');\n  }\n  if (args.length === 2) {\n    $.get(url, args[0], args[1], 'json');\n  }\n  if (args.length === 4) {\n    return console.log(args);\n  }\n};\n\n//# sourceMappingURL=json.js.map\n","var Computed, ComputedArray, LazyObservable, LazyObservableArray, Observable, ObservableArray, PureComputed, ko;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  ko = require('../../../knockout/build/output/knockout-latest.debug');\n}\n\nObservable = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = self[property];\n  }\n  return self[property] = ko.observable(initial_value);\n};\n\nObservableArray = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = [];\n  }\n  self[property] = ko.observableArray(initial_value);\n  self[property].select = function(fn) {\n    return ko.utils.arrayFilter(self[property].call(), fn);\n  };\n  return self[property].map = function(fn) {\n    return ko.utils.arrayMap(self[property].call(), fn);\n  };\n};\n\nComputed = function(self, property, fn) {\n  return self[property] = ko.computed(fn, self);\n};\n\nPureComputed = function(self, property, fn) {\n  return self[property] = ko.pureComputed(fn, self);\n};\n\nComputedArray = function(self, property, fn) {\n  var actual_property, property_fn;\n  actual_property = '_actual_' + property;\n  property_fn = '_' + property;\n  ObservableArray(self, actual_property);\n  self[property_fn] = (function(_this) {\n    return function() {\n      self[actual_property](fn());\n      return self[actual_property]();\n    };\n  })(this);\n  return self[property] = ko.computed(self[property_fn]);\n};\n\nLazyObservable = function(self, property, callback, params, init_value, make_array) {\n  var _value;\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  if (make_array == null) {\n    make_array = false;\n  }\n  if (!make_array) {\n    _value = ko.observable(init_value);\n  } else {\n    _value = ko.observableArray(init_value);\n  }\n  self[property] = ko.computed({\n    read: function() {\n      if (self[property].loaded() === false) {\n        callback.apply(self, params);\n      }\n      return _value();\n    },\n    write: function(newValue) {\n      self[property].loaded(true);\n      return _value(newValue);\n    },\n    deferEvaluation: true\n  });\n  if (make_array === true) {\n    self[property].remove = function(e) {\n      return _value.remove(e);\n    };\n    self[property].push = function(e) {\n      return _value.push(e);\n    };\n    self[property].splice = function(e, i, args) {\n      return _value.splice(e, i, args);\n    };\n  }\n  self[property].loaded = ko.observable(false);\n  return self[property].refresh = function() {\n    return result.loaded(false);\n  };\n};\n\nLazyObservableArray = function(self, property, callback, params, init_value) {\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  return LazyObservable(self, property, callback, params, init_value, true);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = {\n    Observable: Observable,\n    ObservableArray: ObservableArray,\n    Computed: Computed,\n    ComputedArray: ComputedArray,\n    LazyObservable: LazyObservable\n  };\n}\n\n//# sourceMappingURL=observable.js.map\n","var Computed, Ham, Observable, Observables, Paginated;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  Ham = require('../ham');\n  Observables = require('../lib/observable');\n  Observable = Observables.Observable;\n  Computed = Observables.Computed;\n}\n\nPaginated = function(self, options) {\n  if (!((self != null) && (options != null))) {\n    throw new Error('Error: no object or options given');\n  }\n  if ('object' !== typeof self) {\n    throw new Error('Error: first parameter is not an object');\n  }\n  if ('function' === typeof options) {\n    options = {\n      method: options\n    };\n  }\n  if ('object' !== typeof options) {\n    throw new Error('Invalid type for second parameter (' + typeof options + '), expected function or object');\n  }\n  options = Ham.merge(options, {\n    per_page: 20,\n    page: 0\n  });\n  if (options.page > 0) {\n    options.page--;\n  }\n  if (!(typeof options.per_page === 'number' && options.per_page > 0)) {\n    throw new Error('Invalid per_page value given');\n  }\n  if (options.method == null) {\n    throw new Error('No reload method given');\n  }\n  return Paginated.add_paginated_methods(self, options);\n};\n\nPaginated.add_paginated_methods = function(self, options) {\n  Observable(self, '__collection', options.collection);\n  Observable(self, '__reload', options.method);\n  Observable(self, '__page', options.page);\n  Observable(self, 'per_page', options.per_page);\n  Computed(self, 'page', (function(_this) {\n    return function() {\n      return self.__page() + 1;\n    };\n  })(this));\n  Computed(self, 'count', (function(_this) {\n    return function() {\n      if (self.__collection() != null) {\n        return self.__collection().count;\n      }\n      return 0;\n    };\n  })(this));\n  Computed(self, 'pages', (function(_this) {\n    return function() {\n      var result;\n      result = parseInt(parseFloat(self.count()) / parseFloat(self.__page()));\n      if (parseFloat(self.count()) % self.__page() > 0) {\n        result++;\n      }\n      return result;\n    };\n  })(this));\n  self.first_page = (function(_this) {\n    return function() {\n      self.__page(0);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.last_page = (function(_this) {\n    return function() {\n      self.__page(self.count() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.previous_page = (function(_this) {\n    return function() {\n      if (!(self.page() > 0)) {\n        return;\n      }\n      self.__page(self.page() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  return self.next_page = (function(_this) {\n    return function() {\n      if (!(self.page() + 1 < self.pages())) {\n        return;\n      }\n      self.__page(self.page() + 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Paginated;\n}\n\n//# sourceMappingURL=paginated.js.map\n","var Selectable;\n\nSelectable = function(self) {\n  self.selected = ko.observable(false);\n  self.select = (function(_this) {\n    return function(item, element) {\n      return self.selected(!self.selected());\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=selectable.js.map\n","var Sortable;\n\nSortable = function(self) {\n  self.move = (function(_this) {\n    return function(to, callback) {\n      return self.update({\n        sort: to\n      }, callback);\n    };\n  })(this);\n  self.move_ui = (function(_this) {\n    return function(element) {\n      var item, to;\n      item = element.item;\n      to = element.targetIndex;\n      return item.update({\n        sort: to\n      });\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=sortable.js.map\n","var Modelize;\n\nModelize = function(options) {\n  var mapi, model;\n  if (api[options.api] == null) {\n    api.add(options.api);\n  }\n  mapi = api[options.api];\n  if (options.has_one != null) {\n    add_apis_to(options.has_one, options.api);\n  }\n  if (options.has_many != null) {\n    add_apis_to(options.has_many, options.api);\n  }\n  model = function(self) {\n    var data, fn, index, item, items, name, relation_params, _i, _len, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;\n    if (self == null) {\n      self = {};\n    }\n    self.api = function() {\n      return mapi;\n    };\n    self.relationship_fields = function(name, model) {\n      return [name + '_id', name + 's', name, window[model]];\n    };\n    if ((options.sortable != null) && options.sortable === true) {\n      Sortable(self);\n    }\n    if ((options.selectable != null) && options.selectable === true) {\n      Selectable(self);\n    }\n    if (options.belongs_to != null) {\n      if (options.has_one == null) {\n        options.has_one = [];\n      }\n      options.has_one = Ham.merge(options.belongs_to, options.has_one);\n    }\n    if (options.has_one != null) {\n      _ref = options.has_one;\n      for (name in _ref) {\n        data = _ref[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        fn = window[data.model];\n        if (self[name] != null) {\n          Observable(self, name, new fn(self[name]));\n        } else {\n          LazyObservable(self, name, lazy_single_get_fn, self.relationship_fields(name, data.model));\n        }\n      }\n    }\n    if (options.has_many != null) {\n      _ref1 = options.has_many;\n      for (name in _ref1) {\n        data = _ref1[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        relation_params = self.relationship_fields(name, data.model);\n        relation_params.push(options);\n        if (self[name + 's'] != null) {\n          fn = window[data.model];\n          items = [];\n          _ref2 = self[name + 's'];\n          for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n            item = _ref2[_i];\n            items.push(new fn(item));\n          }\n          ObservableArray(self, name + 's', items);\n        } else {\n          LazyObservableArray(self, name + 's', lazy_get_fn, relation_params);\n        }\n        self[name + '_get'] = get_fn.apply(self, relation_params);\n        self[name + '_add'] = create_fn.apply(self, relation_params);\n        self[name + '_update'] = update_fn.apply(self, relation_params);\n        self[name + '_destroy'] = destroy_fn.apply(self, relation_params);\n      }\n    }\n    if (options.observable != null) {\n      _ref3 = options.observable;\n      for (index in _ref3) {\n        name = _ref3[index];\n        Observable(self, name);\n      }\n    }\n    if (options.editable != null) {\n      _ref4 = options.editable;\n      for (index in _ref4) {\n        name = _ref4[index];\n        Editable(self, name, (function(_this) {\n          return function(value, prop, delay) {\n            if (delay == null) {\n              delay = 250;\n            }\n            if (window.timeoutEditor == null) {\n              window.timeoutEditor = {};\n            }\n            clearTimeout(window.timeoutEditor[prop]);\n            return window.timeoutEditor[prop] = setTimeout(function() {\n              var edit_value;\n              edit_value = {};\n              edit_value[prop] = value;\n              return self.update(edit_value);\n            }, delay);\n          };\n        })(this));\n      }\n    }\n    if (options.computed != null) {\n      _ref5 = options.computed;\n      for (name in _ref5) {\n        fn = _ref5[name];\n        Computed(self, name, fn);\n      }\n    }\n    if (options.functions != null) {\n      _ref6 = options.functions;\n      for (name in _ref6) {\n        fn = _ref6[name];\n        self[name] = fn;\n      }\n    }\n    self.update = (function(_this) {\n      return function(data, callback) {\n        return self.api().update(self.id, data).done(callback);\n      };\n    })(this);\n    self.destroy = (function(_this) {\n      return function(callback) {\n        return self.api().destroy(self.id).done(callback);\n      };\n    })(this);\n    return self;\n  };\n  model.get = function(params, callbackOrObservable) {\n    var callback;\n    callback = function(data) {\n      var m, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = data.length; _i < _len; _i++) {\n        m = data[_i];\n        _results.push(callbackOrObservable.push(model(m)));\n      }\n      return _results;\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        console.log('Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n        console.log(callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    if ((params != null) && (params.id != null)) {\n      return mapi.read(params.id, params).done(callback);\n    } else {\n      return mapi.read(params).done(callback);\n    }\n  };\n  model.getOne = function(observable, id) {\n    return model.get(observable, {\n      id: id\n    });\n  };\n  model.create = function(params, callbackOrObservable) {\n    var callback;\n    if (params == null) {\n      params = {};\n    }\n    callback = function(data) {\n      return callbackOrObservable.push(model(data));\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        console.log('Collection.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven:');\n        console.log(callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    if (params.length > 0 || typeof params === 'object') {\n      return mapi.create(params).done(callback);\n    } else {\n      return mapi.create().done(callback);\n    }\n  };\n  return model;\n};\n\nko.bindingHandlers.sortable.afterMove = function(element) {\n  if (element.item.move_ui != null) {\n    return element.item.move_ui(element);\n  }\n};\n\n//# sourceMappingURL=model.js.map\n"]}