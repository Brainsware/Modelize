{"version":3,"file":"modelize.min.js","sources":["modelize/api.js","modelize/connector.js","modelize/crypto.js","modelize/ham.js","modelize/helpers.js","modelize/lib/editable.js","modelize/lib/encryptable.js","modelize/lib/observable.js","modelize/lib/paginated.js","modelize/lib/selectable.js","modelize/lib/sortable.js","modelize/lib/utils.js","modelize/model.js"],"names":["add_apis_to","api","$","RestClient","stripTrailingSlash","methodOverride","sub_apis","main_api","data","name","results","push","add","Connector","bind","fn","me","apply","arguments","base","type","this","init","get","connector","prototype","resource","module","exports","decryptData","encryptData","generateKey","generateSalt","getHash","password","salt","hex","options","Error","sjcl","codec","fromBits","iter","misc","cachedPbkdf2","key","length","rand","random","randomWords","adata","options_ret","mode","ts","ks","encrypt","decrypt","value","hash","console","debug","sha256","Ham","merge","a","b","i","j","len","len1","ref","ref1","result","Object","keys","create_fn","destroy_fn","get_fn","lazy_get_fn","lazy_single_get_fn","relationship_fields","single_get_fn","update_fn","model","window","id_param","api_name","_this","params","callbackOrObservable","callback","get_one","m","res","read","id","done","belongs_to","encrypted_container","encrypt_container","create","update","after_update","remove","element","destroy","DelayedSave","Editable","EncryptedDelayedSave","self","property","editing_property","Observable","subscribe","new_value","r","prop","delay","timeoutEditor","clearTimeout","setTimeout","edit_value","index","encrypted_editable","save_encrypted_container","encrypted_debug","Encryptable","indexOf","item","l","container","dencdata","sessionStorage","getItem","JSON","parse","enc_update","call","encdata","stringify","Computed","ComputedArray","LazyObservable","LazyObservableArray","ObservableArray","PureComputed","initial_value","ko","observable","observableArray","select","utils","arrayFilter","map","arrayMap","computed","pureComputed","actual_property","property_fn","init_value","make_array","_value","loaded","write","newValue","deferEvaluation","e","splice","args","refresh","Observables","Paginated","require","method","per_page","page","add_paginated_methods","collection","__page","__collection","count","parseInt","parseFloat","first_page","__reload","last_page","previous_page","next_page","pages","Selectable","selected","Sortable","move","to","sort","move_ui","targetIndex","String","capitalize","charAt","toUpperCase","slice","Modelize","has_one","has_many","items","ref10","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","relation_params","sortable","selectable","editable","purecomputed","computed_array","functions","has_data","ref11","ref12","ref13","isObservable","after_create"],"mappings":"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","sourcesContent":["var add_apis_to, api;\n\napi = new $.RestClient('/api/', {\n  stripTrailingSlash: true,\n  methodOverride: true\n});\n\nadd_apis_to = function(sub_apis, main_api) {\n  var data, name, results;\n  results = [];\n  for (name in sub_apis) {\n    data = sub_apis[name];\n    if (!api[main_api][name + 's']) {\n      results.push(api[main_api].add(name + 's'));\n    } else {\n      results.push(void 0);\n    }\n  }\n  return results;\n};\n\n//# sourceMappingURL=api.js.map\n","var Connector,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nConnector = (function() {\n  function Connector(base, type) {\n    if (base == null) {\n      base = '/api/';\n    }\n    this.type = type != null ? type : 'jquery.rest';\n    this.add_apis_to = bind(this.add_apis_to, this);\n    this.init = bind(this.init, this);\n    this.get = bind(this.get, this);\n    this.connector = new $.RestClient(base, {\n      stripTrailingSlash: true,\n      methodOverride: true\n    });\n  }\n\n  Connector.prototype.get = function(main_api) {\n    return this.connector[main_api];\n  };\n\n  Connector.prototype.init = function(resource) {\n    if (this.connector[resource] == null) {\n      return this.connector.add(resource);\n    }\n  };\n\n  Connector.prototype.add_apis_to = function(sub_apis, main_api) {\n    var data, name, results;\n    results = [];\n    for (name in sub_apis) {\n      data = sub_apis[name];\n      if (!this.connector[main_api][name + 's']) {\n        results.push(this.connector[main_api].add(name + 's'));\n      } else {\n        results.push(void 0);\n      }\n    }\n    return results;\n  };\n\n  return Connector;\n\n})();\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Connector;\n}\n\n//# sourceMappingURL=connector.js.map\n","var decryptData, encryptData, generateKey, generateSalt, getHash;\n\ngenerateKey = function(password, salt) {\n  var hex, options;\n  if (password === '') {\n    throw new Error('Password for key generation empty!');\n  }\n  hex = sjcl.codec.hex.fromBits;\n  if (salt == null) {\n    salt = generateSalt();\n  }\n  options = {\n    salt: salt,\n    iter: 5000\n  };\n  options = sjcl.misc.cachedPbkdf2(password, options);\n  return sjcl.codec.hex.fromBits(options.key);\n};\n\ngenerateSalt = function(length) {\n  var rand;\n  if (length == null) {\n    length = 2;\n  }\n  rand = sjcl.random.randomWords(length);\n  return sjcl.codec.hex.fromBits(rand);\n};\n\nencryptData = function(key, data, adata) {\n  var options, options_ret;\n  if (adata == null) {\n    adata = '';\n  }\n  if (key === '') {\n    throw new Error('Encryption key empty!');\n  }\n  options = {\n    mode: 'gcm',\n    iter: 5000,\n    ts: 64,\n    ks: 256,\n    adata: adata\n  };\n  options_ret = {};\n  return sjcl.encrypt(key, data, options, options_ret);\n};\n\ndecryptData = function(key, data) {\n  var options_ret;\n  if (key === '') {\n    throw new Error('Decryption key empty!');\n  }\n  options_ret = {};\n  return sjcl.decrypt(key, data, {}, options_ret);\n};\n\ngetHash = function(value) {\n  var hash;\n  if (value == null) {\n    console.debug('Hash value empty');\n    value = '';\n  }\n  hash = sjcl.hash.sha256.hash(value);\n  return sjcl.codec.hex.fromBits(hash);\n};\n\n//# sourceMappingURL=crypto.js.map\n","var Ham;\n\nHam = function() {};\n\nHam.merge = function(a, b) {\n  var i, j, key, len, len1, ref, ref1, result;\n  result = {};\n  ref = Object.keys(a);\n  for (i = 0, len = ref.length; i < len; i++) {\n    key = ref[i];\n    result[key] = a[key];\n  }\n  ref1 = Object.keys(b);\n  for (j = 0, len1 = ref1.length; j < len1; j++) {\n    key = ref1[j];\n    if (a[key] == null) {\n      result[key] = b[key];\n    }\n  }\n  return result;\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Ham;\n}\n\n//# sourceMappingURL=ham.js.map\n","var create_fn, destroy_fn, get_fn, lazy_get_fn, lazy_single_get_fn, relationship_fields, single_get_fn, update_fn;\n\nrelationship_fields = function(name, model, connector, options) {\n  if (options == null) {\n    options = {};\n  }\n  return [name + '_id', name + 's', name, window[model], connector, options];\n};\n\nsingle_get_fn = function(id_param, api_name, name, model, api, options) {\n  if (options == null) {\n    options = {};\n  }\n  return (function(_this) {\n    return function(params, callbackOrObservable) {\n      var callback;\n      if (params == null) {\n        params = {};\n      }\n      if (typeof callback === \"undefined\" || callback === null) {\n        callback = function(data) {\n          return _this[name](model(data));\n        };\n      } else if (typeof callbackOrObservable['push'] === 'undefined') {\n        if (typeof callbackOrObservable !== 'function') {\n          throw new Error('model.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven: ' + callbackOrObservable);\n        }\n        callback = callbackOrObservable;\n      }\n      return model.get_one(_this[id_param](), callback);\n    };\n  })(this);\n};\n\nlazy_get_fn = function(id_param, api_name, name, model, api, options) {\n  var callback;\n  if (typeof callback === \"undefined\" || callback === null) {\n    callback = (function(_this) {\n      return function(data) {\n        var i, len, m, res;\n        res = [];\n        for (i = 0, len = data.length; i < len; i++) {\n          m = data[i];\n          res.push(model(m));\n        }\n        return _this[api_name](res);\n      };\n    })(this);\n    return api[api_name].read(this.id).done(callback);\n  }\n};\n\nlazy_single_get_fn = function(id_param, api_name, name, model, api, options) {\n  var callback;\n  if (typeof this[id_param] !== 'function') {\n    throw new Error('External key not an observable: ' + id_param);\n  }\n  if (this[id_param]() == null) {\n    throw new Error('Tried to access empty relation key: ' + id_param);\n  }\n  if (typeof this[id_param]() === 'function') {\n    throw new Error('Circular referene? Quitting.');\n  }\n  if (typeof callback === \"undefined\" || callback === null) {\n    callback = (function(_this) {\n      return function(data) {};\n    })(this);\n    this[name](model(data));\n  }\n  return model.get_one(this[id_param](), callback);\n};\n\nget_fn = function(id_param, api_name, name, model, api, options) {\n  if (options == null) {\n    options = {};\n  }\n  return (function(_this) {\n    return function(params, callbackOrObservable) {\n      var callback;\n      if (params == null) {\n        params = {};\n      }\n      if (typeof callback === \"undefined\" || callback === null) {\n        callback = function(data) {\n          var i, len, m, res;\n          res = [];\n          for (i = 0, len = data.length; i < len; i++) {\n            m = data[i];\n            res.push(model(m));\n          }\n          return _this[api_name](res);\n        };\n      } else if (typeof callbackOrObservable['push'] === 'undefined') {\n        if (typeof callbackOrObservable !== 'function') {\n          throw new Error('model.find 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven: ' + callbackOrObservable);\n        }\n        callback = callbackOrObservable;\n      }\n      if (api == null) {\n        throw new Error('No Connector found for resource \"' + api_name + '\" found: ', api);\n      }\n      if ((options.belongs_to != null) && options.belongs_to.length > 0) {\n        return api[api_name].read(options.belongs_to, _this.id, params).done(callback);\n      } else {\n        return api[api_name].read(_this.id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\ncreate_fn = function(id_param, api_name, name, model, api, options) {\n  return (function(_this) {\n    return function(params, callback) {\n      if (params == null) {\n        params = {};\n      }\n      if (callback == null) {\n        callback = function(data) {\n          return _this[api_name].push(model(data));\n        };\n      }\n      if (_this.id == null) {\n        throw new Error('Empty ID. Save parent model first!');\n      }\n      if (model.encrypted_container != null) {\n        params = model.encrypt_container(params);\n      }\n      if (api == null) {\n        throw new Error('No Connector found for resource \"' + api_name + '\" found: ', api);\n      }\n      if (options.belongs_to.length > 0) {\n        return api[api_name].create(options.belongs_to, _this.id, params).done(callback);\n      } else {\n        return api[api_name].create(_this.id, params).done(callback);\n      }\n    };\n  })(this);\n};\n\nupdate_fn = function(id_param, api_name, name, model, api, options) {\n  return (function(_this) {\n    return function(id, params, callback) {\n      if (_this.id == null) {\n        throw new Error('Empty ID. Save parent model first!');\n      }\n      if (model.encrypted_container != null) {\n        params = model.encrypt_container(params);\n      }\n      if (options.belongs_to != null) {\n        api[api_name].update(options.belongs_to, _this.id, id, params).done(callback);\n      } else {\n        api[api_name].update(_this.id, id, params).done(callback);\n      }\n      if (_this.after_update != null) {\n        return _this.after_update();\n      }\n    };\n  })(this);\n};\n\ndestroy_fn = function(id_param, api_name, name, model, api, options) {\n  return (function(_this) {\n    return function(id, callback) {\n      if (callback == null) {\n        callback = function(data) {\n          return _this[api_name].remove(element);\n        };\n      }\n      if (_this.id == null) {\n        throw new Error('Empty ID. Save parent model first!');\n      }\n      api = connector.get(api_name);\n      if (options.belongs_to != null) {\n        return api[api_name].destroy(options.belongs_to, _this.id, id).done(callback);\n      } else {\n        return api[api_name].destroy(_this.id, id).done(callback);\n      }\n    };\n  })(this);\n};\n\n//# sourceMappingURL=helpers.js.map\n","var DelayedSave, Editable, EncryptedDelayedSave;\n\nEditable = function(self, property, callback) {\n  var editing_property;\n  editing_property = 'editing_' + property;\n  Observable(self, property);\n  Observable(self, editing_property, 0);\n  self[property].subscribe((function(_this) {\n    return function(new_value) {\n      var r;\n      return r = callback(new_value, property);\n    };\n  })(this));\n  return self;\n};\n\nDelayedSave = function(options, self) {\n  return (function(_this) {\n    return function(value, prop, delay) {\n      if (delay == null) {\n        delay = 250;\n      }\n      if (self.id != null) {\n        if (self['editing_' + prop] != null) {\n          self['editing_' + prop](1);\n        }\n        if (window.timeoutEditor == null) {\n          window.timeoutEditor = {};\n        }\n        if (window.timeoutEditor[options.api + self.id] == null) {\n          window.timeoutEditor[options.api + self.id] = {};\n        }\n        clearTimeout(window.timeoutEditor[options.api + self.id][prop]);\n        return window.timeoutEditor[options.api + self.id][prop] = setTimeout(function() {\n          var edit_value;\n          if (self['editing_' + prop] != null) {\n            self['editing_' + prop](2);\n          }\n          edit_value = {};\n          edit_value[prop] = value;\n          return self.update(edit_value);\n        }, delay);\n      }\n    };\n  })(this);\n};\n\nEncryptedDelayedSave = function(options, self) {\n  return (function(_this) {\n    return function(value, prop, delay) {\n      var index, name, ref;\n      if (delay == null) {\n        delay = 250;\n      }\n      if (typeof self[options.encrypted_container] !== 'object' || self[options.encrypted_container] === null) {\n        self[options.encrypted_container] = {};\n        ref = options.encrypted_editable;\n        for (index in ref) {\n          name = ref[index];\n          self[options.encrypted_container][name] = self[name]();\n        }\n      }\n      self[options.encrypted_container][prop] = value;\n      if (self.id != null) {\n        self['editing_' + prop](1);\n        if (window.timeoutEditor == null) {\n          window.timeoutEditor = {};\n        }\n        clearTimeout(window.timeoutEditor[options.api + self.id]);\n        return window.timeoutEditor[options.api + self.id] = setTimeout(function() {\n          var edit_value;\n          self.save_encrypted_container();\n          self['editing_' + prop](2);\n          if (options.encrypted_debug === true) {\n            edit_value = {};\n            edit_value[prop] = value;\n            return self.update(edit_value);\n          }\n        }, delay);\n      }\n    };\n  })(this);\n};\n\n//# sourceMappingURL=editable.js.map\n","var Encryptable,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nEncryptable = function(self, encrypted_container, encrypted_editable) {\n  var container, i, len;\n  self.decrypt = (function(_this) {\n    return function(encrypted_container) {\n      var dencdata, index, results, value;\n      if (typeof encrypted_container === 'string' && encrypted_container !== null && encrypted_container !== '') {\n        dencdata = decryptData(sessionStorage.getItem('appKey'), encrypted_container);\n        encrypted_container = JSON.parse(dencdata);\n        results = [];\n        for (index in encrypted_container) {\n          value = encrypted_container[index];\n          results.push(self[index] = value);\n        }\n        return results;\n      }\n    };\n  })(this);\n  if (typeof encrypted_container === 'string') {\n    self.decrypt(self[encrypted_container]);\n  } else if (typeof encrypted_container === 'object') {\n    for (i = 0, len = encrypted_container.length; i < len; i++) {\n      container = encrypted_container[i];\n      self.decrypt(self[container]);\n    }\n  }\n  self.enc_update = (function(_this) {\n    return function(data, callback) {\n      var index, value;\n      for (index in data) {\n        value = data[index];\n        if (indexOf.call(encrypted_editable, index) >= 0) {\n          if (typeof self[encrypted_container] !== 'object' || self[encrypted_container] === null) {\n            self[encrypted_container] = {};\n          }\n          self[encrypted_container][index] = value;\n        }\n      }\n      self.save_encrypted_container();\n      if (callback != null) {\n        return callback();\n      }\n    };\n  })(this);\n  self.save_encrypted_container = (function(_this) {\n    return function() {\n      var edit_value, encdata;\n      encdata = encryptData(sessionStorage.getItem('appKey'), JSON.stringify(self[encrypted_container]));\n      edit_value = {};\n      edit_value[encrypted_container] = encdata;\n      return self.update(edit_value);\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=encryptable.js.map\n","var Computed, ComputedArray, LazyObservable, LazyObservableArray, Observable, ObservableArray, PureComputed;\n\nObservable = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = self[property];\n  }\n  return self[property] = ko.observable(initial_value);\n};\n\nObservableArray = function(self, property, initial_value) {\n  if (initial_value === void 0) {\n    initial_value = [];\n  }\n  self[property] = ko.observableArray(initial_value);\n  self[property].select = function(fn) {\n    return ko.utils.arrayFilter(self[property].call(), fn);\n  };\n  return self[property].map = function(fn) {\n    return ko.utils.arrayMap(self[property].call(), fn);\n  };\n};\n\nComputed = function(self, property, fn) {\n  return self[property] = ko.computed(fn, self);\n};\n\nPureComputed = function(self, property, fn) {\n  return self[property] = ko.pureComputed(fn, self);\n};\n\nComputedArray = function(self, property, fn) {\n  var actual_property, property_fn;\n  actual_property = '_actual_' + property;\n  property_fn = '_' + property;\n  ObservableArray(self, actual_property);\n  self[property_fn] = (function(_this) {\n    return function() {\n      self[actual_property](fn());\n      return self[actual_property]();\n    };\n  })(this);\n  return self[property] = ko.computed(self[property_fn]);\n};\n\nLazyObservable = function(self, property, callback, params, init_value, make_array) {\n  var _value;\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  if (make_array == null) {\n    make_array = false;\n  }\n  if (!make_array) {\n    _value = ko.observable(init_value);\n  } else {\n    _value = ko.observableArray(init_value);\n  }\n  self[property] = ko.computed({\n    read: function() {\n      if (self[property].loaded() === false) {\n        console.debug('LazyLoading property', property);\n        callback.apply(self, params);\n      }\n      return _value();\n    },\n    write: function(newValue) {\n      self[property].loaded(true);\n      return _value(newValue);\n    },\n    deferEvaluation: true\n  });\n  if (make_array === true) {\n    self[property].remove = function(e) {\n      return _value.remove(e);\n    };\n    self[property].push = function(e) {\n      return _value.push(e);\n    };\n    self[property].splice = function(e, i, args) {\n      return _value.splice(e, i, args);\n    };\n  }\n  self[property].loaded = ko.observable(false);\n  return self[property].refresh = function() {\n    return self[property].loaded(false);\n  };\n};\n\nLazyObservableArray = function(self, property, callback, params, init_value) {\n  if (params == null) {\n    params = [];\n  }\n  if (init_value == null) {\n    init_value = null;\n  }\n  return LazyObservable(self, property, callback, params, init_value, true);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = {\n    Observable: Observable,\n    ObservableArray: ObservableArray,\n    Computed: Computed,\n    ComputedArray: ComputedArray,\n    LazyObservable: LazyObservable\n  };\n}\n\n//# sourceMappingURL=observable.js.map\n","var Computed, Ham, Observable, Observables, Paginated;\n\nif (typeof require !== \"undefined\" && require !== null) {\n  Ham = require('../ham');\n  Observables = require('../lib/observable');\n  Observable = Observables.Observable;\n  Computed = Observables.Computed;\n}\n\nPaginated = function(self, options) {\n  if (!((self != null) && (options != null))) {\n    throw new Error('Error: no object or options given');\n  }\n  if ('object' !== typeof self) {\n    throw new Error('Error: first parameter is not an object');\n  }\n  if ('function' === typeof options) {\n    options = {\n      method: options\n    };\n  }\n  if ('object' !== typeof options) {\n    throw new Error('Invalid type for second parameter (' + typeof options + '), expected function or object');\n  }\n  options = Ham.merge(options, {\n    per_page: 20,\n    page: 0\n  });\n  if (options.page > 0) {\n    options.page--;\n  }\n  if (!(typeof options.per_page === 'number' && options.per_page > 0)) {\n    throw new Error('Invalid per_page value given');\n  }\n  if (options.method == null) {\n    throw new Error('No reload method given');\n  }\n  return Paginated.add_paginated_methods(self, options);\n};\n\nPaginated.add_paginated_methods = function(self, options) {\n  Observable(self, '__collection', options.collection);\n  Observable(self, '__reload', options.method);\n  Observable(self, '__page', options.page);\n  Observable(self, 'per_page', options.per_page);\n  Computed(self, 'page', (function(_this) {\n    return function() {\n      return self.__page() + 1;\n    };\n  })(this));\n  Computed(self, 'count', (function(_this) {\n    return function() {\n      if (self.__collection() != null) {\n        return self.__collection().count;\n      }\n      return 0;\n    };\n  })(this));\n  Computed(self, 'pages', (function(_this) {\n    return function() {\n      var result;\n      result = parseInt(parseFloat(self.count()) / parseFloat(self.__page()));\n      if (parseFloat(self.count()) % self.__page() > 0) {\n        result++;\n      }\n      return result;\n    };\n  })(this));\n  self.first_page = (function(_this) {\n    return function() {\n      self.__page(0);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.last_page = (function(_this) {\n    return function() {\n      self.__page(self.count() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  self.previous_page = (function(_this) {\n    return function() {\n      if (!(self.page() > 0)) {\n        return;\n      }\n      self.__page(self.page() - 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n  return self.next_page = (function(_this) {\n    return function() {\n      if (!(self.page() + 1 < self.pages())) {\n        return;\n      }\n      self.__page(self.page() + 1);\n      return self.__collection(self.__reload());\n    };\n  })(this);\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Paginated;\n}\n\n//# sourceMappingURL=paginated.js.map\n","var Selectable;\n\nSelectable = function(self) {\n  self.selected = ko.observable(false);\n  self.select = (function(_this) {\n    return function(item, element) {\n      return self.selected(!self.selected());\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=selectable.js.map\n","var Sortable;\n\nSortable = function(self) {\n  self.move = (function(_this) {\n    return function(to, callback) {\n      return self.update({\n        sort: to\n      }, callback);\n    };\n  })(this);\n  self.move_ui = (function(_this) {\n    return function(element) {\n      var item, to;\n      item = element.item;\n      to = element.targetIndex;\n      return item.update({\n        sort: to\n      });\n    };\n  })(this);\n  return self;\n};\n\n//# sourceMappingURL=sortable.js.map\n","String.prototype.capitalize = function() {\n  return this.charAt(0).toUpperCase() + this.slice(1);\n};\n\n//# sourceMappingURL=utils.js.map\n","var Modelize,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nModelize = function(options) {\n  'use strict';\n  var connector, model;\n  if (options.connector == null) {\n    throw new Error('No connector given for api: ' + options.api);\n  }\n  options.connector.init(options.api);\n  if (options.has_one != null) {\n    options.connector.add_apis_to(options.has_one, options.api);\n  }\n  if (options.has_many != null) {\n    options.connector.add_apis_to(options.has_many, options.api);\n  }\n  connector = options.connector.get(options.api);\n  model = function(self) {\n    var data, fn, i, index, item, items, len, name, ref, ref1, ref10, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, relation_params;\n    if (self == null) {\n      self = {};\n    }\n    self.api = function() {\n      return connector;\n    };\n    if (options.encrypted_container != null) {\n      Encryptable(self, options.encrypted_container, options.encrypted_editable);\n    }\n    if ((options.sortable != null) && options.sortable === true) {\n      Sortable(self);\n    }\n    if ((options.selectable != null) && options.selectable === true) {\n      Selectable(self);\n    }\n    if (options.belongs_to != null) {\n      if (options.has_one == null) {\n        options.has_one = [];\n      }\n      options.has_one = Ham.merge(options.belongs_to, options.has_one);\n    } else {\n      options.belongs_to = [];\n    }\n    if (options.has_one != null) {\n      ref = options.has_one;\n      for (name in ref) {\n        data = ref[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        relation_params = relationship_fields(name, data.model, self.api(), options);\n        fn = window[data.model];\n        if (typeof fn !== 'function') {\n          throw new Error('No model for has_one/belongs_to relation found');\n        }\n        if (typeof self[name + '_id'] !== 'function' && indexOf.call(options.belongs_to, name) < 0) {\n          if (options.editable == null) {\n            options.editable = [];\n          }\n          if (ref1 = name + '_id', indexOf.call(options.editable, ref1) < 0) {\n            options.editable.push(name + '_id');\n          }\n        }\n        if (self[name] != null) {\n          Observable(self, name, new fn(self[name]));\n        } else {\n          Observable(self, name, new fn());\n        }\n        self[name + '_get'] = single_get_fn.apply(self, relation_params);\n      }\n    }\n    if (options.has_many != null) {\n      ref2 = options.has_many;\n      for (name in ref2) {\n        data = ref2[name];\n        Ham.merge(data, {\n          model: name.capitalize()\n        });\n        relation_params = relationship_fields(name, data.model, self.api(), options);\n        if (self[name + 's'] != null) {\n          fn = window[data.model];\n          items = [];\n          ref3 = self[name + 's'];\n          for (i = 0, len = ref3.length; i < len; i++) {\n            item = ref3[i];\n            items.push(new fn(item));\n          }\n          ObservableArray(self, name + 's', items);\n        } else {\n          ObservableArray(self, name + 's', []);\n        }\n        self[name + '_get'] = get_fn.apply(self, relation_params);\n        self[name + '_add'] = create_fn.apply(self, relation_params);\n        self[name + '_update'] = update_fn.apply(self, relation_params);\n        self[name + '_destroy'] = destroy_fn.apply(self, relation_params);\n      }\n    }\n    if (options.observable != null) {\n      ref4 = options.observable;\n      for (index in ref4) {\n        name = ref4[index];\n        Observable(self, name);\n      }\n    }\n    if (options.editable != null) {\n      ref5 = options.editable;\n      for (index in ref5) {\n        name = ref5[index];\n        Editable(self, name, DelayedSave.apply(self, [options, self]));\n      }\n    }\n    if (options.encrypted_editable != null) {\n      ref6 = options.encrypted_editable;\n      for (index in ref6) {\n        name = ref6[index];\n        Editable(self, name, EncryptedDelayedSave.apply(self, [options, self]));\n      }\n    }\n    if (options.computed != null) {\n      ref7 = options.computed;\n      for (name in ref7) {\n        fn = ref7[name];\n        Computed(self, name, fn);\n      }\n    }\n    if (options.purecomputed != null) {\n      ref8 = options.purecomputed;\n      for (name in ref8) {\n        fn = ref8[name];\n        PureComputed(self, name, fn);\n      }\n    }\n    if (options.computed_array != null) {\n      ref9 = options.computed_array;\n      for (name in ref9) {\n        fn = ref9[name];\n        ComputedArray(self, name, fn);\n      }\n    }\n    if (options.functions != null) {\n      ref10 = options.functions;\n      for (name in ref10) {\n        fn = ref10[name];\n        self[name] = fn;\n      }\n    }\n    self.update = (function(_this) {\n      return function(params, callback) {\n        if (self.id == null) {\n          throw new Error('Trying to update nonexisting model object');\n        }\n        return self.api().update(self.id, params).done(callback);\n      };\n    })(this);\n    self.destroy = (function(_this) {\n      return function(callback) {\n        if (self.id == null) {\n          throw new Error('Trying to delete nonexisting model object');\n        }\n        return self.api().destroy(self.id).done(callback);\n      };\n    })(this);\n    self.create = (function(_this) {\n      return function(callback) {\n        return self.api().create(self[\"export\"]()).done(function(data) {\n          self.id = data.id;\n          if (options.encrypted_container != null) {\n            self.enc_update(data);\n          }\n          return callback();\n        });\n      };\n    })(this);\n    self[\"export\"] = (function(_this) {\n      return function(id) {\n        var has_data, ref11, ref12, ref13;\n        if (id == null) {\n          id = false;\n        }\n        data = {};\n        if (id === true) {\n          data['id'] = self['id'];\n        }\n        if (options.editable != null) {\n          ref11 = options.editable;\n          for (index in ref11) {\n            name = ref11[index];\n            data[name] = self[name]();\n          }\n        }\n        if (options.encrypted_editable != null) {\n          ref12 = options.encrypted_editable;\n          for (index in ref12) {\n            name = ref12[index];\n            data[name] = self[name]();\n          }\n        }\n        if (options.belongs_to != null) {\n          ref13 = options.belongs_to;\n          for (name in ref13) {\n            has_data = ref13[name];\n            data[name + '_id'] = self[name + '_id']();\n          }\n        }\n        return data;\n      };\n    })(this);\n    return self;\n  };\n\n  /*\n   * These are the collection functions and are not bound to a specific object but to the model\n   */\n  model.get = function(params, callbackOrObservable) {\n    var callback;\n    if (params == null) {\n      params = {};\n    }\n    callback = function(data) {\n      var i, len, m, results;\n      results = [];\n      for (i = 0, len = data.length; i < len; i++) {\n        m = data[i];\n        results.push(callbackOrObservable.push(model(m)));\n      }\n      return results;\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        throw new Error('Collection.get 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven: ' + callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    if (typeof params !== 'object') {\n      throw new Error('Passed params is not an object: ' + typeof params);\n    }\n    if ((params != null) && (params.id != null)) {\n      connector.read(params.id, params).done(callback);\n    } else {\n      connector.read(params).done(callback);\n    }\n  };\n  model.get_one = function(id, callbackOrObservable) {\n    var callback;\n    callback = function(data) {\n      return callbackOrObservable(model(data));\n    };\n    if (ko.isObservable(callbackOrObservable) === false) {\n      if (typeof callbackOrObservable !== 'function') {\n        throw new Error('Collection.get_one 2nd parameter needs to be either a function or an Observable.\\nGiven: ' + callbackOrObservable);\n      }\n      callback = callbackOrObservable;\n    }\n    return model.get({\n      id: id\n    }, callbackOrObservable);\n  };\n  model.create = function(params, callbackOrObservable) {\n    var callback;\n    if (params == null) {\n      params = {};\n    }\n    callback = function(data) {\n      return callbackOrObservable.push(model(data));\n    };\n    if (typeof callbackOrObservable['push'] === 'undefined') {\n      if (typeof callbackOrObservable !== 'function') {\n        throw new Error('Collection.create 2nd parameter needs to be either a function or a pushable object (Array, ObservableArray).\\nGiven: ' + callbackOrObservable);\n      }\n      callback = (function(_this) {\n        return function(data) {\n          var m;\n          m = model(JSON.parse(JSON.stringify(data)));\n          if (m.after_create != null) {\n            m.after_create();\n          }\n          return callbackOrObservable(data);\n        };\n      })(this);\n    }\n    if (params.length > 0 || typeof params === 'object') {\n      if (model.encrypted_container != null) {\n        params = model.encrypt_container(params);\n      }\n      connector.create(params).done(callback);\n    } else {\n      connector.create().done(callback);\n    }\n  };\n  if (options.encrypted_container != null) {\n    model.encrypted_container = options.encrypted_container;\n  }\n  if (options.encrypted_editable != null) {\n    model.encrypted_editable = options.encrypted_editable;\n  }\n  model.encrypt_container = function(data, container) {\n    var encdata, index, value;\n    data[model.encrypted_container] = {};\n    for (index in data) {\n      value = data[index];\n      if (indexOf.call(model.encrypted_editable, index) >= 0) {\n        delete data[index];\n        data[model.encrypted_container][index] = value;\n      }\n    }\n    encdata = encryptData(sessionStorage.getItem('appKey'), JSON.stringify(data[model.encrypted_container]));\n    data[model.encrypted_container] = encdata;\n    return data;\n  };\n  return model;\n};\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = Modelize;\n}\n\n//# sourceMappingURL=model.js.map\n"]}